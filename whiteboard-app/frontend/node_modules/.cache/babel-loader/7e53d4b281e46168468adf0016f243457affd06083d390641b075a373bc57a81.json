{"ast":null,"code":"var _jsxFileName = \"D:\\\\CapstoneProject\\\\whiteboard-app\\\\frontend\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Video, PhoneIncoming } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = ({\n  messages,\n  onSendMessage,\n  currentUser,\n  socket,\n  roomId,\n  typingUsers = [],\n  participants = [],\n  inCall,\n  activeCallInfo,\n  onJoinCall,\n  onToggleVideo\n}) => {\n  _s();\n  var _activeCallInfo$parti;\n  const [input, setInput] = useState(\"\");\n  const chatEndRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n  const [isTyping, setIsTyping] = useState(false);\n  const scrollToBottom = () => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleInputChange = e => {\n    setInput(e.target.value);\n    // Typing indicator\n    if (socket && roomId) {\n      if (!isTyping) {\n        setIsTyping(true);\n        socket.emit(\"typing-start\", {\n          roomId,\n          userName: currentUser.name\n        });\n      }\n      clearTimeout(typingTimeoutRef.current);\n      typingTimeoutRef.current = setTimeout(() => {\n        setIsTyping(false);\n        socket.emit(\"typing-stop\", {\n          roomId\n        });\n      }, 1500);\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (input.trim()) {\n      onSendMessage(input.trim());\n      setInput(\"\");\n      setIsTyping(false);\n      if (socket && roomId) socket.emit(\"typing-stop\", {\n        roomId\n      });\n    }\n  };\n  useEffect(() => {\n    return () => clearTimeout(typingTimeoutRef.current);\n  }, []);\n  const formatTime = ts => {\n    try {\n      return new Date(ts).toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch {\n      return '';\n    }\n  };\n  const callIsActive = activeCallInfo === null || activeCallInfo === void 0 ? void 0 : activeCallInfo.active;\n  const callParticipantCount = (activeCallInfo === null || activeCallInfo === void 0 ? void 0 : (_activeCallInfo$parti = activeCallInfo.participants) === null || _activeCallInfo$parti === void 0 ? void 0 : _activeCallInfo$parti.length) || 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wb-chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-chat-online-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-online-avatars\",\n        children: [participants.slice(0, 5).map((p, i) => {\n          var _p$userName$;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wb-online-dot\",\n            title: p.userName,\n            children: (_p$userName$ = p.userName[0]) === null || _p$userName$ === void 0 ? void 0 : _p$userName$.toUpperCase()\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this);\n        }), participants.length > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wb-online-more\",\n          children: [\"+\", participants.length - 5]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-video-call-action\",\n        children: inCall ?\n        /*#__PURE__*/\n        /* Already in call â€” show a subtle \"In Call\" indicator */\n        _jsxDEV(\"div\", {\n          className: \"wb-call-btn active\",\n          style: {\n            cursor: 'default'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Video, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"In Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this) : callIsActive ?\n        /*#__PURE__*/\n        /* A call is active in the room â€” show \"Join\" with participant count */\n        _jsxDEV(\"button\", {\n          className: \"wb-call-btn wb-call-join-active\",\n          onClick: onJoinCall,\n          title: `${callParticipantCount} in call â€” click to join`,\n          children: [/*#__PURE__*/_jsxDEV(PhoneIncoming, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Join (\", callParticipantCount, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this) :\n        /*#__PURE__*/\n        /* No active call â€” show \"Start Call\" */\n        _jsxDEV(\"button\", {\n          className: \"wb-call-btn\",\n          onClick: onJoinCall,\n          title: \"Start a video call\",\n          children: [/*#__PURE__*/_jsxDEV(Video, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Start Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-chat-messages\",\n      children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-chat-empty\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wb-chat-empty-icon\",\n          children: \"\\uD83D\\uDCAC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Collaborative Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Messages are synced with everyone in the room.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this) : messages.map((msg, index) => {\n        const isOwn = msg.sender === currentUser._id;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `wb-chat-msg ${isOwn ? \"own\" : \"other\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wb-msg-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"wb-msg-name\",\n              children: msg.senderName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"wb-msg-time\",\n              children: formatTime(msg.timestamp)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wb-msg-bubble\",\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }, this);\n      }), typingUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-typing-indicator\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wb-typing-dots\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 55\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [typingUsers.map(u => u.userName).join(', '), \" \", typingUsers.length === 1 ? 'is' : 'are', \" typing...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-chat-input-area\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"wb-chat-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Type a message...\",\n          className: \"wb-chat-input\",\n          value: input,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !input.trim(),\n          className: \"wb-chat-send\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"18\",\n            height: \"18\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2.5\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            className: \"transform rotate-45 -mt-0.5\",\n            children: [/*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"22\",\n              y1: \"2\",\n              x2: \"11\",\n              y2: \"13\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n              points: \"22 2 15 22 11 13 2 9 22 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(Chat, \"R8/xA+iJCeCni4LTD4MCP/kTxp4=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Video","PhoneIncoming","jsxDEV","_jsxDEV","Chat","messages","onSendMessage","currentUser","socket","roomId","typingUsers","participants","inCall","activeCallInfo","onJoinCall","onToggleVideo","_s","_activeCallInfo$parti","input","setInput","chatEndRef","typingTimeoutRef","isTyping","setIsTyping","scrollToBottom","_chatEndRef$current","current","scrollIntoView","behavior","handleInputChange","e","target","value","emit","userName","name","clearTimeout","setTimeout","handleSubmit","preventDefault","trim","formatTime","ts","Date","toLocaleTimeString","hour","minute","callIsActive","active","callParticipantCount","length","className","children","slice","map","p","i","_p$userName$","title","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","style","cursor","size","onClick","msg","index","isOwn","sender","_id","senderName","timestamp","text","u","join","ref","onSubmit","type","placeholder","onChange","disabled","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","points","_c","$RefreshReg$"],"sources":["D:/CapstoneProject/whiteboard-app/frontend/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Video, PhoneIncoming } from \"lucide-react\";\r\n\r\nconst Chat = ({ messages, onSendMessage, currentUser, socket, roomId, typingUsers = [], participants = [], inCall, activeCallInfo, onJoinCall, onToggleVideo }) => {\r\n    const [input, setInput] = useState(\"\");\r\n    const chatEndRef = useRef(null);\r\n    const typingTimeoutRef = useRef(null);\r\n    const [isTyping, setIsTyping] = useState(false);\r\n\r\n    const scrollToBottom = () => {\r\n        chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => { scrollToBottom(); }, [messages]);\r\n\r\n    const handleInputChange = (e) => {\r\n        setInput(e.target.value);\r\n        // Typing indicator\r\n        if (socket && roomId) {\r\n            if (!isTyping) {\r\n                setIsTyping(true);\r\n                socket.emit(\"typing-start\", { roomId, userName: currentUser.name });\r\n            }\r\n            clearTimeout(typingTimeoutRef.current);\r\n            typingTimeoutRef.current = setTimeout(() => {\r\n                setIsTyping(false);\r\n                socket.emit(\"typing-stop\", { roomId });\r\n            }, 1500);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (input.trim()) {\r\n            onSendMessage(input.trim());\r\n            setInput(\"\");\r\n            setIsTyping(false);\r\n            if (socket && roomId) socket.emit(\"typing-stop\", { roomId });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => clearTimeout(typingTimeoutRef.current);\r\n    }, []);\r\n\r\n    const formatTime = (ts) => {\r\n        try {\r\n            return new Date(ts).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n        } catch { return ''; }\r\n    };\r\n\r\n    const callIsActive = activeCallInfo?.active;\r\n    const callParticipantCount = activeCallInfo?.participants?.length || 0;\r\n\r\n    return (\r\n        <div className=\"wb-chat-container\">\r\n            {/* Online Users & Call Bar */}\r\n            <div className=\"wb-chat-online-bar\">\r\n                <div className=\"wb-online-avatars\">\r\n                    {participants.slice(0, 5).map((p, i) => (\r\n                        <div key={i} className=\"wb-online-dot\" title={p.userName}>\r\n                            {p.userName[0]?.toUpperCase()}\r\n                        </div>\r\n                    ))}\r\n                    {participants.length > 5 && (\r\n                        <div className=\"wb-online-more\">+{participants.length - 5}</div>\r\n                    )}\r\n                </div>\r\n                <div className=\"wb-video-call-action\">\r\n                    {inCall ? (\r\n                        /* Already in call â€” show a subtle \"In Call\" indicator */\r\n                        <div className=\"wb-call-btn active\" style={{ cursor: 'default' }}>\r\n                            <Video size={14} />\r\n                            <span>In Call</span>\r\n                        </div>\r\n                    ) : callIsActive ? (\r\n                        /* A call is active in the room â€” show \"Join\" with participant count */\r\n                        <button\r\n                            className=\"wb-call-btn wb-call-join-active\"\r\n                            onClick={onJoinCall}\r\n                            title={`${callParticipantCount} in call â€” click to join`}\r\n                        >\r\n                            <PhoneIncoming size={14} />\r\n                            <span>Join ({callParticipantCount})</span>\r\n                        </button>\r\n                    ) : (\r\n                        /* No active call â€” show \"Start Call\" */\r\n                        <button\r\n                            className=\"wb-call-btn\"\r\n                            onClick={onJoinCall}\r\n                            title=\"Start a video call\"\r\n                        >\r\n                            <Video size={14} />\r\n                            <span>Start Call</span>\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Messages Area */}\r\n            <div className=\"wb-chat-messages\">\r\n                {messages.length === 0 ? (\r\n                    <div className=\"wb-chat-empty\">\r\n                        <div className=\"wb-chat-empty-icon\">ðŸ’¬</div>\r\n                        <h4>Collaborative Chat</h4>\r\n                        <p>Messages are synced with everyone in the room.</p>\r\n                    </div>\r\n                ) : (\r\n                    messages.map((msg, index) => {\r\n                        const isOwn = msg.sender === currentUser._id;\r\n                        return (\r\n                            <div key={index} className={`wb-chat-msg ${isOwn ? \"own\" : \"other\"}`}>\r\n                                <div className=\"wb-msg-header\">\r\n                                    <span className=\"wb-msg-name\">{msg.senderName}</span>\r\n                                    <span className=\"wb-msg-time\">{formatTime(msg.timestamp)}</span>\r\n                                </div>\r\n                                <div className=\"wb-msg-bubble\">\r\n                                    {msg.text}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })\r\n                )}\r\n\r\n                {/* Typing Indicator */}\r\n                {typingUsers.length > 0 && (\r\n                    <div className=\"wb-typing-indicator\">\r\n                        <div className=\"wb-typing-dots\">\r\n                            <span></span><span></span><span></span>\r\n                        </div>\r\n                        <span>\r\n                            {typingUsers.map(u => u.userName).join(', ')} {typingUsers.length === 1 ? 'is' : 'are'} typing...\r\n                        </span>\r\n                    </div>\r\n                )}\r\n\r\n                <div ref={chatEndRef} />\r\n            </div>\r\n\r\n            {/* Input Area */}\r\n            <div className=\"wb-chat-input-area\">\r\n                <form className=\"wb-chat-form\" onSubmit={handleSubmit}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Type a message...\"\r\n                        className=\"wb-chat-input\"\r\n                        value={input}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={!input.trim()}\r\n                        className=\"wb-chat-send\"\r\n                    >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"\r\n                            fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"\r\n                            className=\"transform rotate-45 -mt-0.5\">\r\n                            <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line>\r\n                            <polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon>\r\n                        </svg>\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}