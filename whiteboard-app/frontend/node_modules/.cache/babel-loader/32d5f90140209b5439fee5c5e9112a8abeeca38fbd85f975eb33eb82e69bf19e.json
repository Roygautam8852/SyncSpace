{"ast":null,"code":"var _jsxFileName = \"D:\\\\CapstoneProject\\\\whiteboard-app\\\\frontend\\\\src\\\\pages\\\\WhiteboardRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { useSocket } from \"../context/SocketContext\";\nimport { roomService } from \"../services/api\";\nimport Toolbar from \"../components/Toolbar\";\nimport Chat from \"../components/Chat\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WhiteboardRoom = () => {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const {\n    socket\n  } = useSocket();\n  const canvasRef = useRef(null);\n  const contextRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [tool, setTool] = useState(\"pencil\");\n  const [color, setColor] = useState(\"#000000\");\n  const [size, setSize] = useState(5);\n  const [room, setRoom] = useState(null);\n  const [participants, setParticipants] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [sharedFiles, setSharedFiles] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"chat\");\n  const [loadingFileUpload, setLoadingFileUpload] = useState(false);\n  const [screenStream, setScreenStream] = useState(null);\n  const screenVideoRef = useRef(null);\n\n  // History for Undo/Redo\n  const [history, setHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  useEffect(() => {\n    const fetchRoomDetails = async () => {\n      try {\n        const res = await roomService.getRoom(roomId);\n        setRoom(res.data.room);\n        setSharedFiles(res.data.room.sharedFiles || []);\n      } catch (err) {\n        toast.error(\"Failed to load room\");\n        navigate(\"/dashboard\");\n      }\n    };\n    fetchRoomDetails();\n    if (socket) {\n      socket.emit(\"join-room\", {\n        roomId,\n        userId: user._id,\n        userName: user.name\n      });\n      socket.on(\"user-joined\", data => {\n        toast.success(`${data.userName} joined`);\n      });\n      socket.on(\"online-users\", users => {\n        setParticipants(users);\n      });\n      socket.on(\"chat-message\", msg => {\n        setMessages(prev => [...prev, msg]);\n      });\n      socket.on(\"chat-history\", history => {\n        setMessages(history);\n      });\n      socket.on(\"new-file\", file => {\n        setSharedFiles(prev => [file, ...prev]);\n        toast.success(`New file shared: ${file.fileName}`);\n      });\n      socket.on(\"drawing\", data => {\n        drawRemote(data);\n      });\n      socket.on(\"erase\", data => {\n        eraseRemote(data);\n      });\n      socket.on(\"board-cleared\", () => {\n        clearCanvasLocal();\n        setHistory([]);\n        setHistoryIndex(-1);\n      });\n      socket.on(\"canvas-state\", data => {\n        if (data) {\n          applyCanvasState(data);\n          // Initialize history with initial state\n          setHistory([data]);\n          setHistoryIndex(0);\n        }\n      });\n      socket.on(\"undo\", state => {\n        applyCanvasState(state);\n      });\n      socket.on(\"redo\", state => {\n        applyCanvasState(state);\n      });\n      socket.on(\"error-message\", msg => {\n        toast.error(msg);\n      });\n    }\n\n    // Listen for custom tool events (Undo/Redo)\n    const handleUndoEvent = () => handleUndo();\n    const handleRedoEvent = () => handleRedo();\n    window.addEventListener('wb-undo', handleUndoEvent);\n    window.addEventListener('wb-redo', handleRedoEvent);\n    return () => {\n      if (socket) {\n        socket.emit(\"leave-room\", {\n          roomId,\n          userId: user._id,\n          userName: user.name\n        });\n        socket.off(\"user-joined\");\n        socket.off(\"online-users\");\n        socket.off(\"chat-message\");\n        socket.off(\"chat-history\");\n        socket.off(\"new-file\");\n        socket.off(\"drawing\");\n        socket.off(\"erase\");\n        socket.off(\"board-cleared\");\n        socket.off(\"canvas-state\");\n        socket.off(\"undo\");\n        socket.off(\"redo\");\n        socket.off(\"error-message\");\n      }\n      window.removeEventListener('wb-undo', handleUndoEvent);\n      window.removeEventListener('wb-redo', handleRedoEvent);\n    };\n  }, [roomId, socket, user, navigate]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const container = canvas.parentElement;\n    const ResizeCanvas = () => {\n      // Save current content\n      const tempCanvas = document.createElement('canvas');\n      const tempCtx = tempCanvas.getContext('2d');\n      tempCanvas.width = canvas.width;\n      tempCanvas.height = canvas.height;\n      tempCtx.drawImage(canvas, 0, 0);\n\n      // Resize\n      canvas.width = container.offsetWidth;\n      canvas.height = container.offsetHeight;\n\n      // Restore content\n      const context = canvas.getContext(\"2d\");\n      context.lineCap = \"round\";\n      context.lineJoin = \"round\";\n      context.drawImage(tempCanvas, 0, 0);\n      contextRef.current = context;\n    };\n    window.addEventListener('resize', ResizeCanvas);\n    ResizeCanvas();\n\n    // Initial blank state in history\n    const dataURL = canvas.toDataURL();\n    setHistory([dataURL]);\n    setHistoryIndex(0);\n    return () => window.removeEventListener('resize', ResizeCanvas);\n  }, []);\n  const applyCanvasState = state => {\n    if (!state) {\n      clearCanvasLocal();\n      return;\n    }\n    const image = new Image();\n    image.src = state;\n    image.onload = () => {\n      clearCanvasLocal();\n      contextRef.current.drawImage(image, 0, 0);\n    };\n  };\n  const clearCanvasLocal = () => {\n    const canvas = canvasRef.current;\n    contextRef.current.clearRect(0, 0, canvas.width, canvas.height);\n  };\n  const startDrawing = ({\n    nativeEvent\n  }) => {\n    const {\n      offsetX,\n      offsetY\n    } = nativeEvent;\n\n    // Record current position for line strokes\n    contextRef.current.beginPath();\n    contextRef.current.moveTo(offsetX, offsetY);\n    setIsDrawing(true);\n  };\n  const draw = ({\n    nativeEvent\n  }) => {\n    if (!isDrawing) return;\n    const {\n      offsetX,\n      offsetY\n    } = nativeEvent;\n    contextRef.current.lineWidth = size;\n    if (tool === \"pencil\") {\n      contextRef.current.strokeStyle = color;\n      contextRef.current.globalCompositeOperation = \"source-over\";\n      contextRef.current.lineTo(offsetX, offsetY);\n      contextRef.current.stroke();\n      socket.emit(\"drawing\", {\n        roomId,\n        drawingData: {\n          x: offsetX,\n          y: offsetY,\n          color,\n          size\n        }\n      });\n    } else {\n      contextRef.current.globalCompositeOperation = \"destination-out\";\n      contextRef.current.lineTo(offsetX, offsetY);\n      contextRef.current.stroke();\n      socket.emit(\"erase\", {\n        roomId,\n        eraseData: {\n          x: offsetX,\n          y: offsetY,\n          size\n        }\n      });\n    }\n  };\n  const stopDrawing = () => {\n    if (!isDrawing) return;\n    contextRef.current.closePath();\n    setIsDrawing(false);\n\n    // Add to history\n    const dataURL = canvasRef.current.toDataURL();\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push(dataURL);\n\n    // Keep history at a reasonable size\n    if (newHistory.length > 50) newHistory.shift();\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n    socket.emit(\"save-canvas\", {\n      roomId,\n      canvasData: dataURL\n    });\n  };\n  const handleUndo = () => {\n    if (historyIndex > 0) {\n      const newIndex = historyIndex - 1;\n      const state = history[newIndex];\n      setHistoryIndex(newIndex);\n      applyCanvasState(state);\n      socket.emit(\"undo\", {\n        roomId,\n        canvasState: state\n      });\n      socket.emit(\"save-canvas\", {\n        roomId,\n        canvasData: state\n      });\n    }\n  };\n  const handleRedo = () => {\n    if (historyIndex < history.length - 1) {\n      const newIndex = historyIndex + 1;\n      const state = history[newIndex];\n      setHistoryIndex(newIndex);\n      applyCanvasState(state);\n      socket.emit(\"redo\", {\n        roomId,\n        canvasState: state\n      });\n      socket.emit(\"save-canvas\", {\n        roomId,\n        canvasData: state\n      });\n    }\n  };\n  const drawRemote = data => {\n    const {\n      x,\n      y,\n      color,\n      size\n    } = data;\n    const context = contextRef.current;\n\n    // Temporarily save current state to avoid affecting local path\n    const prevGCO = context.globalCompositeOperation;\n    const prevStrokeStyle = context.strokeStyle;\n    const prevLineWidth = context.lineWidth;\n    context.globalCompositeOperation = \"source-over\";\n    context.strokeStyle = color;\n    context.lineWidth = size;\n\n    // We need to draw a point or a very short line for each package\n    // For smooth remote drawing, backend usually handles full paths or we buffer.\n    // For this simple implementation, we draw arcs or dots.\n    context.beginPath();\n    context.arc(x, y, size / 2, 0, Math.PI * 2);\n    context.fillStyle = color;\n    context.fill();\n\n    // Restore state\n    context.globalCompositeOperation = prevGCO;\n    context.strokeStyle = prevStrokeStyle;\n    context.lineWidth = prevLineWidth;\n  };\n  const eraseRemote = data => {\n    const {\n      x,\n      y,\n      size\n    } = data;\n    const context = contextRef.current;\n    const prevGCO = context.globalCompositeOperation;\n    const prevLineWidth = context.lineWidth;\n    context.globalCompositeOperation = \"destination-out\";\n    context.lineWidth = size;\n    context.beginPath();\n    context.arc(x, y, size, 0, Math.PI * 2);\n    context.fill();\n    context.globalCompositeOperation = prevGCO;\n    context.lineWidth = prevLineWidth;\n  };\n  const handleSendMessage = text => {\n    if (socket) {\n      socket.emit(\"chat-message\", {\n        roomId,\n        message: text,\n        userId: user._id,\n        userName: user.name\n      });\n    }\n  };\n  const handleClearBoard = () => {\n    if (user._id !== (room === null || room === void 0 ? void 0 : room.host)) {\n      toast.error(\"Only the host can clear the board\");\n      return;\n    }\n    if (window.confirm(\"Are you sure you want to clear the entire board?\")) {\n      socket.emit(\"clear-board\", {\n        roomId,\n        userId: user._id\n      });\n    }\n  };\n  const handleDownload = () => {\n    const canvas = canvasRef.current;\n    const dataURL = canvas.toDataURL(\"image/png\");\n    const link = document.createElement(\"a\");\n    link.href = dataURL;\n    link.download = `whiteboard-${roomId}.png`;\n    link.click();\n    toast.success(\"Downloading image...\");\n  };\n  const handleShare = () => {\n    const url = window.location.href;\n    navigator.clipboard.writeText(url);\n    toast.success(\"Room link copied to clipboard!\");\n  };\n  const handleFileUpload = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    setLoadingFileUpload(true);\n    try {\n      const res = await roomService.uploadFile(roomId, formData);\n      socket.emit(\"file-shared\", {\n        roomId,\n        file: res.data.file\n      });\n      setSharedFiles(prev => [res.data.file, ...prev]);\n      toast.success(\"File shared successfully!\");\n    } catch (err) {\n      toast.error(\"Failed to share file\");\n    } finally {\n      setLoadingFileUpload(false);\n    }\n  };\n  const handleScreenShare = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getDisplayMedia({\n        video: true,\n        audio: false\n      });\n      setScreenStream(stream);\n\n      // Listen for when user stops sharing via browser UI\n      stream.getVideoTracks()[0].onended = () => {\n        stopScreenShare();\n      };\n      if (screenVideoRef.current) {\n        screenVideoRef.current.srcObject = stream;\n      }\n      toast.success(\"Screen sharing started\");\n      socket.emit(\"screen-share-started\", {\n        roomId,\n        userId: user._id,\n        userName: user.name\n      });\n    } catch (err) {\n      console.error(\"Screen Share Error:\", err);\n      toast.error(\"Failed to share screen\");\n    }\n  };\n  const stopScreenShare = () => {\n    if (screenStream) {\n      screenStream.getTracks().forEach(track => track.stop());\n      setScreenStream(null);\n      socket.emit(\"screen-share-stopped\", {\n        roomId\n      });\n      toast.info(\"Screen sharing stopped\");\n    }\n  };\n  const handleLeaveRoom = () => {\n    navigate(\"/dashboard\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"whiteboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-topbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"room-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"room-label\",\n          children: room === null || room === void 0 ? void 0 : room.roomName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"room-code\",\n          title: \"Click to copy Room ID\",\n          onClick: () => {\n            navigator.clipboard.writeText(roomId);\n            toast.success(\"Room ID copied!\");\n          },\n          children: [\"ID: \", roomId, \" \\uD83D\\uDCCB\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"participants-count\",\n          children: [\"\\uD83D\\uDC64 \", participants.length, \" Participant\", participants.length !== 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topbar-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `btn ${screenStream ? \"btn-danger\" : \"btn-secondary\"} btn-sm`,\n          onClick: screenStream ? stopScreenShare : handleScreenShare,\n          children: screenStream ? \"Stop Sharing ‚èπÔ∏è\" : \"Share Screen üñ•Ô∏è\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary btn-sm\",\n          onClick: handleShare,\n          children: \"Share Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary btn-sm\",\n          onClick: handleDownload,\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger btn-sm\",\n          onClick: handleLeaveRoom,\n          children: \"Leave Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-toolbar\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          tool: tool,\n          setTool: setTool,\n          color: color,\n          setColor: setColor,\n          size: size,\n          setSize: setSize,\n          onClear: handleClearBoard,\n          isHost: user._id === (room === null || room === void 0 ? void 0 : room.host)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-canvas-area\",\n        children: [screenStream && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"screen-share-overlay\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: screenVideoRef,\n            autoPlay: true,\n            playsInline: true,\n            muted: true,\n            className: \"screen-video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"screen-share-info\",\n            children: \"You are sharing your screen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          onMouseDown: startDrawing,\n          onMouseMove: draw,\n          onMouseUp: stopDrawing,\n          onMouseOut: stopDrawing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `sidebar-tab ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"chat\"),\n            children: \"Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `sidebar-tab ${activeTab === \"files\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"files\"),\n            children: \"Files\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `sidebar-tab ${activeTab === \"users\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"users\"),\n            children: \"Participants\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 21\n        }, this), activeTab === \"chat\" ? /*#__PURE__*/_jsxDEV(Chat, {\n          messages: messages,\n          onSendMessage: handleSendMessage,\n          currentUser: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 25\n        }, this) : activeTab === \"files\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"files-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"files-upload\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"btn btn-primary btn-sm btn-block\",\n              children: [loadingFileUpload ? \"Uploading...\" : \"Share File ‚¨ÜÔ∏è\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                onChange: handleFileUpload,\n                style: {\n                  display: \"none\"\n                },\n                disabled: loadingFileUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"files-list\",\n            children: sharedFiles.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"empty-msg\",\n              children: \"No files shared yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 37\n            }, this) : sharedFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-icon\",\n                children: \"\\uD83D\\uDCC4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-name\",\n                  title: file.fileName,\n                  children: file.fileName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-meta\",\n                  children: [\"By \", file.senderName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `${process.env.REACT_APP_API_URL || \"http://localhost:5000\"}${file.fileUrl}`,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"file-download-btn\",\n                download: true,\n                children: \"\\u2B07\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 45\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"online-users-list\",\n          children: participants.map((p, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"online-user-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-name\",\n              children: [p.userName, \" \", p.userId === user._id && \"(You)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 37\n            }, this), p.userId === (room === null || room === void 0 ? void 0 : room.host) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-role host\",\n              children: \"Host\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 65\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-bottombar\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Tool: \", tool === \"pencil\" ? \"‚úèÔ∏è Pencil\" : \"üßΩ Eraser\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Connected as \", user === null || user === void 0 ? void 0 : user.name, \" (\", user._id === (room === null || room === void 0 ? void 0 : room.host) ? \"Host\" : \"Participant\", \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 406,\n    columnNumber: 9\n  }, this);\n};\n_s(WhiteboardRoom, \"Y5oAiPBvRrYf+pTHowaE7Kadlxk=\", false, function () {\n  return [useParams, useNavigate, useAuth, useSocket];\n});\n_c = WhiteboardRoom;\nexport default WhiteboardRoom;\nvar _c;\n$RefreshReg$(_c, \"WhiteboardRoom\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useNavigate","useAuth","useSocket","roomService","Toolbar","Chat","toast","jsxDEV","_jsxDEV","WhiteboardRoom","_s","roomId","navigate","user","socket","canvasRef","contextRef","isDrawing","setIsDrawing","tool","setTool","color","setColor","size","setSize","room","setRoom","participants","setParticipants","messages","setMessages","sharedFiles","setSharedFiles","activeTab","setActiveTab","loadingFileUpload","setLoadingFileUpload","screenStream","setScreenStream","screenVideoRef","history","setHistory","historyIndex","setHistoryIndex","fetchRoomDetails","res","getRoom","data","err","error","emit","userId","_id","userName","name","on","success","users","msg","prev","file","fileName","drawRemote","eraseRemote","clearCanvasLocal","applyCanvasState","state","handleUndoEvent","handleUndo","handleRedoEvent","handleRedo","window","addEventListener","off","removeEventListener","canvas","current","container","parentElement","ResizeCanvas","tempCanvas","document","createElement","tempCtx","getContext","width","height","drawImage","offsetWidth","offsetHeight","context","lineCap","lineJoin","dataURL","toDataURL","image","Image","src","onload","clearRect","startDrawing","nativeEvent","offsetX","offsetY","beginPath","moveTo","draw","lineWidth","strokeStyle","globalCompositeOperation","lineTo","stroke","drawingData","x","y","eraseData","stopDrawing","closePath","newHistory","slice","push","length","shift","canvasData","newIndex","canvasState","prevGCO","prevStrokeStyle","prevLineWidth","arc","Math","PI","fillStyle","fill","handleSendMessage","text","message","handleClearBoard","host","confirm","handleDownload","link","href","download","click","handleShare","url","location","navigator","clipboard","writeText","handleFileUpload","e","target","files","formData","FormData","append","uploadFile","handleScreenShare","stream","mediaDevices","getDisplayMedia","video","audio","getVideoTracks","onended","stopScreenShare","srcObject","console","getTracks","forEach","track","stop","info","handleLeaveRoom","className","children","roomName","_jsxFileName","lineNumber","columnNumber","title","onClick","onClear","isHost","ref","autoPlay","playsInline","muted","onMouseDown","onMouseMove","onMouseUp","onMouseOut","onSendMessage","currentUser","type","onChange","style","display","disabled","map","index","senderName","process","env","REACT_APP_API_URL","fileUrl","rel","p","_c","$RefreshReg$"],"sources":["D:/CapstoneProject/whiteboard-app/frontend/src/pages/WhiteboardRoom.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { useSocket } from \"../context/SocketContext\";\r\nimport { roomService } from \"../services/api\";\r\nimport Toolbar from \"../components/Toolbar\";\r\nimport Chat from \"../components/Chat\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst WhiteboardRoom = () => {\r\n    const { roomId } = useParams();\r\n    const navigate = useNavigate();\r\n    const { user } = useAuth();\r\n    const { socket } = useSocket();\r\n\r\n    const canvasRef = useRef(null);\r\n    const contextRef = useRef(null);\r\n    const [isDrawing, setIsDrawing] = useState(false);\r\n    const [tool, setTool] = useState(\"pencil\");\r\n    const [color, setColor] = useState(\"#000000\");\r\n    const [size, setSize] = useState(5);\r\n\r\n    const [room, setRoom] = useState(null);\r\n    const [participants, setParticipants] = useState([]);\r\n    const [messages, setMessages] = useState([]);\r\n    const [sharedFiles, setSharedFiles] = useState([]);\r\n    const [activeTab, setActiveTab] = useState(\"chat\");\r\n    const [loadingFileUpload, setLoadingFileUpload] = useState(false);\r\n    const [screenStream, setScreenStream] = useState(null);\r\n    const screenVideoRef = useRef(null);\r\n\r\n    // History for Undo/Redo\r\n    const [history, setHistory] = useState([]);\r\n    const [historyIndex, setHistoryIndex] = useState(-1);\r\n\r\n    useEffect(() => {\r\n        const fetchRoomDetails = async () => {\r\n            try {\r\n                const res = await roomService.getRoom(roomId);\r\n                setRoom(res.data.room);\r\n                setSharedFiles(res.data.room.sharedFiles || []);\r\n            } catch (err) {\r\n                toast.error(\"Failed to load room\");\r\n                navigate(\"/dashboard\");\r\n            }\r\n        };\r\n\r\n        fetchRoomDetails();\r\n\r\n        if (socket) {\r\n            socket.emit(\"join-room\", { roomId, userId: user._id, userName: user.name });\r\n\r\n            socket.on(\"user-joined\", (data) => {\r\n                toast.success(`${data.userName} joined`);\r\n            });\r\n\r\n            socket.on(\"online-users\", (users) => {\r\n                setParticipants(users);\r\n            });\r\n\r\n            socket.on(\"chat-message\", (msg) => {\r\n                setMessages((prev) => [...prev, msg]);\r\n            });\r\n\r\n            socket.on(\"chat-history\", (history) => {\r\n                setMessages(history);\r\n            });\r\n\r\n            socket.on(\"new-file\", (file) => {\r\n                setSharedFiles((prev) => [file, ...prev]);\r\n                toast.success(`New file shared: ${file.fileName}`);\r\n            });\r\n\r\n            socket.on(\"drawing\", (data) => {\r\n                drawRemote(data);\r\n            });\r\n\r\n            socket.on(\"erase\", (data) => {\r\n                eraseRemote(data);\r\n            });\r\n\r\n            socket.on(\"board-cleared\", () => {\r\n                clearCanvasLocal();\r\n                setHistory([]);\r\n                setHistoryIndex(-1);\r\n            });\r\n\r\n            socket.on(\"canvas-state\", (data) => {\r\n                if (data) {\r\n                    applyCanvasState(data);\r\n                    // Initialize history with initial state\r\n                    setHistory([data]);\r\n                    setHistoryIndex(0);\r\n                }\r\n            });\r\n\r\n            socket.on(\"undo\", (state) => {\r\n                applyCanvasState(state);\r\n            });\r\n\r\n            socket.on(\"redo\", (state) => {\r\n                applyCanvasState(state);\r\n            });\r\n\r\n            socket.on(\"error-message\", (msg) => {\r\n                toast.error(msg);\r\n            });\r\n        }\r\n\r\n        // Listen for custom tool events (Undo/Redo)\r\n        const handleUndoEvent = () => handleUndo();\r\n        const handleRedoEvent = () => handleRedo();\r\n\r\n        window.addEventListener('wb-undo', handleUndoEvent);\r\n        window.addEventListener('wb-redo', handleRedoEvent);\r\n\r\n        return () => {\r\n            if (socket) {\r\n                socket.emit(\"leave-room\", { roomId, userId: user._id, userName: user.name });\r\n                socket.off(\"user-joined\");\r\n                socket.off(\"online-users\");\r\n                socket.off(\"chat-message\");\r\n                socket.off(\"chat-history\");\r\n                socket.off(\"new-file\");\r\n                socket.off(\"drawing\");\r\n                socket.off(\"erase\");\r\n                socket.off(\"board-cleared\");\r\n                socket.off(\"canvas-state\");\r\n                socket.off(\"undo\");\r\n                socket.off(\"redo\");\r\n                socket.off(\"error-message\");\r\n            }\r\n            window.removeEventListener('wb-undo', handleUndoEvent);\r\n            window.removeEventListener('wb-redo', handleRedoEvent);\r\n        };\r\n    }, [roomId, socket, user, navigate]);\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const container = canvas.parentElement;\r\n\r\n        const ResizeCanvas = () => {\r\n            // Save current content\r\n            const tempCanvas = document.createElement('canvas');\r\n            const tempCtx = tempCanvas.getContext('2d');\r\n            tempCanvas.width = canvas.width;\r\n            tempCanvas.height = canvas.height;\r\n            tempCtx.drawImage(canvas, 0, 0);\r\n\r\n            // Resize\r\n            canvas.width = container.offsetWidth;\r\n            canvas.height = container.offsetHeight;\r\n\r\n            // Restore content\r\n            const context = canvas.getContext(\"2d\");\r\n            context.lineCap = \"round\";\r\n            context.lineJoin = \"round\";\r\n            context.drawImage(tempCanvas, 0, 0);\r\n            contextRef.current = context;\r\n        };\r\n\r\n        window.addEventListener('resize', ResizeCanvas);\r\n        ResizeCanvas();\r\n\r\n        // Initial blank state in history\r\n        const dataURL = canvas.toDataURL();\r\n        setHistory([dataURL]);\r\n        setHistoryIndex(0);\r\n\r\n        return () => window.removeEventListener('resize', ResizeCanvas);\r\n    }, []);\r\n\r\n    const applyCanvasState = (state) => {\r\n        if (!state) {\r\n            clearCanvasLocal();\r\n            return;\r\n        }\r\n        const image = new Image();\r\n        image.src = state;\r\n        image.onload = () => {\r\n            clearCanvasLocal();\r\n            contextRef.current.drawImage(image, 0, 0);\r\n        };\r\n    };\r\n\r\n    const clearCanvasLocal = () => {\r\n        const canvas = canvasRef.current;\r\n        contextRef.current.clearRect(0, 0, canvas.width, canvas.height);\r\n    };\r\n\r\n    const startDrawing = ({ nativeEvent }) => {\r\n        const { offsetX, offsetY } = nativeEvent;\r\n\r\n        // Record current position for line strokes\r\n        contextRef.current.beginPath();\r\n        contextRef.current.moveTo(offsetX, offsetY);\r\n        setIsDrawing(true);\r\n    };\r\n\r\n    const draw = ({ nativeEvent }) => {\r\n        if (!isDrawing) return;\r\n        const { offsetX, offsetY } = nativeEvent;\r\n\r\n        contextRef.current.lineWidth = size;\r\n\r\n        if (tool === \"pencil\") {\r\n            contextRef.current.strokeStyle = color;\r\n            contextRef.current.globalCompositeOperation = \"source-over\";\r\n            contextRef.current.lineTo(offsetX, offsetY);\r\n            contextRef.current.stroke();\r\n\r\n            socket.emit(\"drawing\", {\r\n                roomId,\r\n                drawingData: { x: offsetX, y: offsetY, color, size }\r\n            });\r\n        } else {\r\n            contextRef.current.globalCompositeOperation = \"destination-out\";\r\n            contextRef.current.lineTo(offsetX, offsetY);\r\n            contextRef.current.stroke();\r\n\r\n            socket.emit(\"erase\", {\r\n                roomId,\r\n                eraseData: { x: offsetX, y: offsetY, size }\r\n            });\r\n        }\r\n    };\r\n\r\n    const stopDrawing = () => {\r\n        if (!isDrawing) return;\r\n        contextRef.current.closePath();\r\n        setIsDrawing(false);\r\n\r\n        // Add to history\r\n        const dataURL = canvasRef.current.toDataURL();\r\n        const newHistory = history.slice(0, historyIndex + 1);\r\n        newHistory.push(dataURL);\r\n\r\n        // Keep history at a reasonable size\r\n        if (newHistory.length > 50) newHistory.shift();\r\n\r\n        setHistory(newHistory);\r\n        setHistoryIndex(newHistory.length - 1);\r\n\r\n        socket.emit(\"save-canvas\", { roomId, canvasData: dataURL });\r\n    };\r\n\r\n    const handleUndo = () => {\r\n        if (historyIndex > 0) {\r\n            const newIndex = historyIndex - 1;\r\n            const state = history[newIndex];\r\n            setHistoryIndex(newIndex);\r\n            applyCanvasState(state);\r\n            socket.emit(\"undo\", { roomId, canvasState: state });\r\n            socket.emit(\"save-canvas\", { roomId, canvasData: state });\r\n        }\r\n    };\r\n\r\n    const handleRedo = () => {\r\n        if (historyIndex < history.length - 1) {\r\n            const newIndex = historyIndex + 1;\r\n            const state = history[newIndex];\r\n            setHistoryIndex(newIndex);\r\n            applyCanvasState(state);\r\n            socket.emit(\"redo\", { roomId, canvasState: state });\r\n            socket.emit(\"save-canvas\", { roomId, canvasData: state });\r\n        }\r\n    };\r\n\r\n    const drawRemote = (data) => {\r\n        const { x, y, color, size } = data;\r\n        const context = contextRef.current;\r\n\r\n        // Temporarily save current state to avoid affecting local path\r\n        const prevGCO = context.globalCompositeOperation;\r\n        const prevStrokeStyle = context.strokeStyle;\r\n        const prevLineWidth = context.lineWidth;\r\n\r\n        context.globalCompositeOperation = \"source-over\";\r\n        context.strokeStyle = color;\r\n        context.lineWidth = size;\r\n\r\n        // We need to draw a point or a very short line for each package\r\n        // For smooth remote drawing, backend usually handles full paths or we buffer.\r\n        // For this simple implementation, we draw arcs or dots.\r\n        context.beginPath();\r\n        context.arc(x, y, size / 2, 0, Math.PI * 2);\r\n        context.fillStyle = color;\r\n        context.fill();\r\n\r\n        // Restore state\r\n        context.globalCompositeOperation = prevGCO;\r\n        context.strokeStyle = prevStrokeStyle;\r\n        context.lineWidth = prevLineWidth;\r\n    };\r\n\r\n    const eraseRemote = (data) => {\r\n        const { x, y, size } = data;\r\n        const context = contextRef.current;\r\n\r\n        const prevGCO = context.globalCompositeOperation;\r\n        const prevLineWidth = context.lineWidth;\r\n\r\n        context.globalCompositeOperation = \"destination-out\";\r\n        context.lineWidth = size;\r\n\r\n        context.beginPath();\r\n        context.arc(x, y, size, 0, Math.PI * 2);\r\n        context.fill();\r\n\r\n        context.globalCompositeOperation = prevGCO;\r\n        context.lineWidth = prevLineWidth;\r\n    };\r\n\r\n    const handleSendMessage = (text) => {\r\n        if (socket) {\r\n            socket.emit(\"chat-message\", { roomId, message: text, userId: user._id, userName: user.name });\r\n        }\r\n    };\r\n\r\n    const handleClearBoard = () => {\r\n        if (user._id !== room?.host) {\r\n            toast.error(\"Only the host can clear the board\");\r\n            return;\r\n        }\r\n\r\n        if (window.confirm(\"Are you sure you want to clear the entire board?\")) {\r\n            socket.emit(\"clear-board\", { roomId, userId: user._id });\r\n        }\r\n    };\r\n\r\n    const handleDownload = () => {\r\n        const canvas = canvasRef.current;\r\n        const dataURL = canvas.toDataURL(\"image/png\");\r\n        const link = document.createElement(\"a\");\r\n        link.href = dataURL;\r\n        link.download = `whiteboard-${roomId}.png`;\r\n        link.click();\r\n        toast.success(\"Downloading image...\");\r\n    };\r\n\r\n    const handleShare = () => {\r\n        const url = window.location.href;\r\n        navigator.clipboard.writeText(url);\r\n        toast.success(\"Room link copied to clipboard!\");\r\n    };\r\n\r\n    const handleFileUpload = async (e) => {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n\r\n        setLoadingFileUpload(true);\r\n        try {\r\n            const res = await roomService.uploadFile(roomId, formData);\r\n            socket.emit(\"file-shared\", { roomId, file: res.data.file });\r\n            setSharedFiles((prev) => [res.data.file, ...prev]);\r\n            toast.success(\"File shared successfully!\");\r\n        } catch (err) {\r\n            toast.error(\"Failed to share file\");\r\n        } finally {\r\n            setLoadingFileUpload(false);\r\n        }\r\n    };\r\n\r\n    const handleScreenShare = async () => {\r\n        try {\r\n            const stream = await navigator.mediaDevices.getDisplayMedia({\r\n                video: true,\r\n                audio: false\r\n            });\r\n            setScreenStream(stream);\r\n\r\n            // Listen for when user stops sharing via browser UI\r\n            stream.getVideoTracks()[0].onended = () => {\r\n                stopScreenShare();\r\n            };\r\n\r\n            if (screenVideoRef.current) {\r\n                screenVideoRef.current.srcObject = stream;\r\n            }\r\n\r\n            toast.success(\"Screen sharing started\");\r\n            socket.emit(\"screen-share-started\", { roomId, userId: user._id, userName: user.name });\r\n        } catch (err) {\r\n            console.error(\"Screen Share Error:\", err);\r\n            toast.error(\"Failed to share screen\");\r\n        }\r\n    };\r\n\r\n    const stopScreenShare = () => {\r\n        if (screenStream) {\r\n            screenStream.getTracks().forEach(track => track.stop());\r\n            setScreenStream(null);\r\n            socket.emit(\"screen-share-stopped\", { roomId });\r\n            toast.info(\"Screen sharing stopped\");\r\n        }\r\n    };\r\n\r\n    const handleLeaveRoom = () => {\r\n        navigate(\"/dashboard\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"whiteboard-container\">\r\n            <div className=\"wb-topbar\">\r\n                <div className=\"room-info\">\r\n                    <span className=\"room-label\">{room?.roomName}</span>\r\n                    <span className=\"room-code\" title=\"Click to copy Room ID\" onClick={() => {\r\n                        navigator.clipboard.writeText(roomId);\r\n                        toast.success(\"Room ID copied!\");\r\n                    }}>\r\n                        ID: {roomId} üìã\r\n                    </span>\r\n                    <div className=\"participants-count\">\r\n                        üë§ {participants.length} Participant{participants.length !== 1 ? 's' : ''}\r\n                    </div>\r\n                </div>\r\n                <div className=\"topbar-actions\">\r\n                    <button\r\n                        className={`btn ${screenStream ? \"btn-danger\" : \"btn-secondary\"} btn-sm`}\r\n                        onClick={screenStream ? stopScreenShare : handleScreenShare}\r\n                    >\r\n                        {screenStream ? \"Stop Sharing ‚èπÔ∏è\" : \"Share Screen üñ•Ô∏è\"}\r\n                    </button>\r\n                    <button className=\"btn btn-secondary btn-sm\" onClick={handleShare}>Share Room</button>\r\n                    <button className=\"btn btn-secondary btn-sm\" onClick={handleDownload}>Download</button>\r\n                    <button className=\"btn btn-danger btn-sm\" onClick={handleLeaveRoom}>Leave Room</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"wb-main\">\r\n                <div className=\"wb-toolbar\">\r\n                    <Toolbar\r\n                        tool={tool}\r\n                        setTool={setTool}\r\n                        color={color}\r\n                        setColor={setColor}\r\n                        size={size}\r\n                        setSize={setSize}\r\n                        onClear={handleClearBoard}\r\n                        isHost={user._id === room?.host}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"wb-canvas-area\">\r\n                    {screenStream && (\r\n                        <div className=\"screen-share-overlay\">\r\n                            <video ref={screenVideoRef} autoPlay playsInline muted className=\"screen-video\" />\r\n                            <div className=\"screen-share-info\">You are sharing your screen</div>\r\n                        </div>\r\n                    )}\r\n                    <canvas\r\n                        ref={canvasRef}\r\n                        onMouseDown={startDrawing}\r\n                        onMouseMove={draw}\r\n                        onMouseUp={stopDrawing}\r\n                        onMouseOut={stopDrawing}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"wb-sidebar\">\r\n                    <div className=\"sidebar-tabs\">\r\n                        <button\r\n                            className={`sidebar-tab ${activeTab === \"chat\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveTab(\"chat\")}\r\n                        >\r\n                            Chat\r\n                        </button>\r\n                        <button\r\n                            className={`sidebar-tab ${activeTab === \"files\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveTab(\"files\")}\r\n                        >\r\n                            Files\r\n                        </button>\r\n                        <button\r\n                            className={`sidebar-tab ${activeTab === \"users\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveTab(\"users\")}\r\n                        >\r\n                            Participants\r\n                        </button>\r\n                    </div>\r\n\r\n                    {activeTab === \"chat\" ? (\r\n                        <Chat\r\n                            messages={messages}\r\n                            onSendMessage={handleSendMessage}\r\n                            currentUser={user}\r\n                        />\r\n                    ) : activeTab === \"files\" ? (\r\n                        <div className=\"files-container\">\r\n                            <div className=\"files-upload\">\r\n                                <label className=\"btn btn-primary btn-sm btn-block\">\r\n                                    {loadingFileUpload ? \"Uploading...\" : \"Share File ‚¨ÜÔ∏è\"}\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        onChange={handleFileUpload}\r\n                                        style={{ display: \"none\" }}\r\n                                        disabled={loadingFileUpload}\r\n                                    />\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"files-list\">\r\n                                {sharedFiles.length === 0 ? (\r\n                                    <p className=\"empty-msg\">No files shared yet</p>\r\n                                ) : (\r\n                                    sharedFiles.map((file, index) => (\r\n                                        <div key={index} className=\"file-item\">\r\n                                            <div className=\"file-icon\">üìÑ</div>\r\n                                            <div className=\"file-info\">\r\n                                                <div className=\"file-name\" title={file.fileName}>{file.fileName}</div>\r\n                                                <div className=\"file-meta\">By {file.senderName}</div>\r\n                                            </div>\r\n                                            <a\r\n                                                href={`${process.env.REACT_APP_API_URL || \"http://localhost:5000\"}${file.fileUrl}`}\r\n                                                target=\"_blank\"\r\n                                                rel=\"noopener noreferrer\"\r\n                                                className=\"file-download-btn\"\r\n                                                download\r\n                                            >\r\n                                                ‚¨áÔ∏è\r\n                                            </a>\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"online-users-list\">\r\n                            {participants.map((p, index) => (\r\n                                <div key={index} className=\"online-user-item\">\r\n                                    <div className=\"user-dot\"></div>\r\n                                    <span className=\"user-name\">{p.userName} {p.userId === user._id && \"(You)\"}</span>\r\n                                    {p.userId === room?.host && <span className=\"user-role host\">Host</span>}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"wb-bottombar\">\r\n                <span>Tool: {tool === \"pencil\" ? \"‚úèÔ∏è Pencil\" : \"üßΩ Eraser\"}</span>\r\n                <span>Connected as {user?.name} ({user._id === room?.host ? \"Host\" : \"Participant\"})</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WhiteboardRoom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}