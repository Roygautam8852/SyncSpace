{"ast":null,"code":"var _jsxFileName = \"D:\\\\CapstoneProject\\\\whiteboard-app\\\\frontend\\\\src\\\\components\\\\video\\\\WebRTCMeeting.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Mic, MicOff, Video, VideoOff, PhoneOff, Monitor, MonitorOff } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\n/**\r\n * WebRTCMeeting — Production-grade peer-to-peer video call component.\r\n *\r\n * Lifecycle is split into 3 clean phases:\r\n *   Phase 1 – Media:       getUserMedia + create RTCPeerConnection (runs ONCE).\r\n *   Phase 2 – Negotiate:   Create & send Offer (runs when PC is ready AND signalingId is known).\r\n *   Phase 3 – Signaling:   Socket listeners for offer/answer/candidate/ended.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WebRTCMeeting = ({\n  socket,\n  roomId,\n  signalingId,\n  isCaller,\n  username,\n  onLeave\n}) => {\n  _s();\n  // ── UI State ──────────────────────────────────────────────────────────────\n  const [localStream, setLocalStream] = useState(null);\n  const [remoteStream, setRemoteStream] = useState(null);\n  const [isMicEnabled, setIsMicEnabled] = useState(true);\n  const [isCamEnabled, setIsCamEnabled] = useState(true);\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('Initializing...');\n\n  /**\r\n   * pcReady — becomes true once initMedia() finishes creating the\r\n   * RTCPeerConnection.  The Negotiation effect depends on this so it\r\n   * waits for the async setup to finish before trying pcRef.current.\r\n   */\n  const [pcReady, setPcReady] = useState(false);\n\n  // ── Stable Refs (never cause re-renders) ──────────────────────────────────\n  const pcRef = useRef(null);\n  const localVideoRef = useRef(null);\n  const remoteVideoRef = useRef(null);\n  const candidateBuffer = useRef([]);\n  const screenStreamRef = useRef(null);\n  const isNegotiating = useRef(false);\n  const hasInitialized = useRef(false);\n  const localStreamRef = useRef(null); // mirrors localStream state for cleanup\n\n  const rtcConfig = {\n    iceServers: [{\n      urls: 'stun:stun.l.google.com:19302'\n    }, {\n      urls: 'stun:stun1.l.google.com:19302'\n    }]\n  };\n\n  // ── PHASE 1: MEDIA + PC SETUP (runs exactly once) ─────────────────────────\n  useEffect(() => {\n    if (hasInitialized.current) return;\n    hasInitialized.current = true;\n    let cancelled = false;\n    const initMedia = async () => {\n      try {\n        console.log('[WebRTC] Requesting camera/mic…');\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: true\n        });\n        if (cancelled) {\n          stream.getTracks().forEach(t => t.stop());\n          return;\n        }\n\n        // Store stream\n        setLocalStream(stream);\n        localStreamRef.current = stream;\n        if (localVideoRef.current) {\n          localVideoRef.current.srcObject = stream;\n          localVideoRef.current.play().catch(() => {});\n        }\n\n        // Create PeerConnection\n        const pc = new RTCPeerConnection(rtcConfig);\n        pcRef.current = pc;\n\n        // Add local tracks\n        stream.getTracks().forEach(track => pc.addTrack(track, stream));\n\n        // Remote track → display\n        pc.ontrack = event => {\n          console.log('[WebRTC] Remote track:', event.track.kind);\n          const rStream = event.streams[0];\n          setRemoteStream(rStream);\n          if (remoteVideoRef.current) {\n            remoteVideoRef.current.srcObject = rStream;\n            remoteVideoRef.current.play().catch(() => {});\n          }\n        };\n\n        // ICE candidates → send to peer\n        pc.onicecandidate = event => {\n          if (event.candidate && signalingId) {\n            socket.emit('call:candidate', {\n              roomId,\n              to: signalingId,\n              candidate: event.candidate\n            });\n          }\n        };\n\n        // Connection state\n        pc.oniceconnectionstatechange = () => {\n          console.log('[WebRTC] ICE state:', pc.iceConnectionState);\n          setConnectionStatus(`Status: ${pc.iceConnectionState}`);\n        };\n\n        // Signal that PC is ready — this triggers Phase 2\n        setPcReady(true);\n        console.log('[WebRTC] PeerConnection ready.');\n      } catch (err) {\n        console.error('[WebRTC] Media init error:', err);\n        if (!cancelled) toast.error('Camera / Mic access failed — please allow permissions.');\n      }\n    };\n    initMedia();\n    return () => {\n      cancelled = true;\n    };\n  }, []); // ← empty dep array: runs once per mount\n\n  // ── PHASE 2: NEGOTIATION (only for caller; waits for pcReady + signalingId) ──\n  useEffect(() => {\n    if (!isCaller || !signalingId || !pcReady) return;\n    const pc = pcRef.current;\n    if (!pc || pc.signalingState !== 'stable') return;\n    if (isNegotiating.current) return;\n    const negotiate = async () => {\n      try {\n        isNegotiating.current = true;\n        console.log('[WebRTC] Creating offer for peer:', signalingId);\n        const offer = await pc.createOffer();\n        await pc.setLocalDescription(offer);\n        socket.emit('call:offer', {\n          roomId,\n          to: signalingId,\n          offer\n        });\n        console.log('[WebRTC] Offer sent.');\n      } catch (e) {\n        console.error('[WebRTC] Offer failed:', e);\n      } finally {\n        isNegotiating.current = false;\n      }\n    };\n    negotiate();\n  }, [isCaller, signalingId, pcReady, roomId, socket]);\n\n  // ── PHASE 3: SIGNALING LISTENERS ────────────────────────────────────────────\n  useEffect(() => {\n    if (!socket) return;\n    const flushCandidates = async () => {\n      while (candidateBuffer.current.length > 0 && (_pcRef$current = pcRef.current) !== null && _pcRef$current !== void 0 && _pcRef$current.remoteDescription) {\n        var _pcRef$current;\n        const cand = candidateBuffer.current.shift();\n        try {\n          await pcRef.current.addIceCandidate(new RTCIceCandidate(cand));\n        } catch (_) {}\n      }\n    };\n    const handleOffer = async ({\n      from,\n      offer\n    }) => {\n      const pc = pcRef.current;\n      if (!pc || isNegotiating.current || pc.signalingState !== 'stable') {\n        console.warn('[WebRTC] Ignored offer — bad state:', pc === null || pc === void 0 ? void 0 : pc.signalingState);\n        return;\n      }\n      try {\n        isNegotiating.current = true;\n        await pc.setRemoteDescription(new RTCSessionDescription(offer));\n        const answer = await pc.createAnswer();\n        await pc.setLocalDescription(answer);\n        socket.emit('call:answer', {\n          roomId,\n          to: from,\n          answer\n        });\n        await flushCandidates();\n        console.log('[WebRTC] Answer sent.');\n      } catch (e) {\n        console.error('[WebRTC] Offer handling error:', e);\n      } finally {\n        isNegotiating.current = false;\n      }\n    };\n    const handleAnswer = async ({\n      from,\n      answer\n    }) => {\n      const pc = pcRef.current;\n      if (!pc || pc.signalingState !== 'have-local-offer') {\n        console.warn('[WebRTC] Ignored answer — bad state:', pc === null || pc === void 0 ? void 0 : pc.signalingState);\n        return;\n      }\n      try {\n        isNegotiating.current = true;\n        await pc.setRemoteDescription(new RTCSessionDescription(answer));\n        await flushCandidates();\n        console.log('[WebRTC] Answer applied.');\n      } catch (e) {\n        console.error('[WebRTC] Answer handling error:', e);\n      } finally {\n        isNegotiating.current = false;\n      }\n    };\n    const handleCandidate = async ({\n      from,\n      candidate\n    }) => {\n      var _pc$remoteDescription;\n      const pc = pcRef.current;\n      if (!pc) return;\n      if ((_pc$remoteDescription = pc.remoteDescription) !== null && _pc$remoteDescription !== void 0 && _pc$remoteDescription.type) {\n        try {\n          await pc.addIceCandidate(new RTCIceCandidate(candidate));\n        } catch (_) {}\n      } else {\n        candidateBuffer.current.push(candidate);\n      }\n    };\n    const handleCallEnded = () => {\n      console.log('[WebRTC] Remote peer ended call.');\n      cleanup();\n      onLeave();\n    };\n    socket.on('call:offer', handleOffer);\n    socket.on('call:answer', handleAnswer);\n    socket.on('call:candidate', handleCandidate);\n    socket.on('call:ended', handleCallEnded);\n    return () => {\n      socket.off('call:offer', handleOffer);\n      socket.off('call:answer', handleAnswer);\n      socket.off('call:candidate', handleCandidate);\n      socket.off('call:ended', handleCallEnded);\n    };\n  }, [socket, roomId, onLeave]);\n\n  // ── UNMOUNT CLEANUP ─────────────────────────────────────────────────────────\n  useEffect(() => () => cleanup(), []);\n\n  // ── Helpers ─────────────────────────────────────────────────────────────────\n  const cleanup = () => {\n    if (pcRef.current) {\n      pcRef.current.close();\n      pcRef.current = null;\n    }\n    if (localStreamRef.current) {\n      localStreamRef.current.getTracks().forEach(t => {\n        t.stop();\n        console.log('[WebRTC] Stopped track:', t.kind);\n      });\n      localStreamRef.current = null;\n      setLocalStream(null);\n    }\n    if (screenStreamRef.current) {\n      screenStreamRef.current.getTracks().forEach(t => t.stop());\n      screenStreamRef.current = null;\n    }\n    if (localVideoRef.current) localVideoRef.current.srcObject = null;\n    if (remoteVideoRef.current) remoteVideoRef.current.srcObject = null;\n    setRemoteStream(null);\n    setConnectionStatus('Ended');\n  };\n  const toggleMic = () => {\n    var _localStreamRef$curre;\n    const track = (_localStreamRef$curre = localStreamRef.current) === null || _localStreamRef$curre === void 0 ? void 0 : _localStreamRef$curre.getAudioTracks()[0];\n    if (track) {\n      track.enabled = !track.enabled;\n      setIsMicEnabled(track.enabled);\n    }\n  };\n  const toggleCam = () => {\n    var _localStreamRef$curre2;\n    const track = (_localStreamRef$curre2 = localStreamRef.current) === null || _localStreamRef$curre2 === void 0 ? void 0 : _localStreamRef$curre2.getVideoTracks()[0];\n    if (track) {\n      track.enabled = !track.enabled;\n      setIsCamEnabled(track.enabled);\n    }\n  };\n  const toggleScreenShare = async () => {\n    if (!isScreenSharing) {\n      try {\n        var _pcRef$current2;\n        const screenStream = await navigator.mediaDevices.getDisplayMedia({\n          video: true\n        });\n        screenStreamRef.current = screenStream;\n        const screenTrack = screenStream.getVideoTracks()[0];\n        const sender = (_pcRef$current2 = pcRef.current) === null || _pcRef$current2 === void 0 ? void 0 : _pcRef$current2.getSenders().find(s => {\n          var _s$track;\n          return ((_s$track = s.track) === null || _s$track === void 0 ? void 0 : _s$track.kind) === 'video';\n        });\n        if (sender) sender.replaceTrack(screenTrack);\n        if (localVideoRef.current) {\n          localVideoRef.current.srcObject = screenStream;\n        }\n        screenTrack.onended = () => stopScreenShare();\n        setIsScreenSharing(true);\n      } catch (e) {\n        console.error('[WebRTC] Screen share error:', e);\n      }\n    } else {\n      stopScreenShare();\n    }\n  };\n  const stopScreenShare = () => {\n    var _screenStreamRef$curr, _localStreamRef$curre3, _pcRef$current3;\n    (_screenStreamRef$curr = screenStreamRef.current) === null || _screenStreamRef$curr === void 0 ? void 0 : _screenStreamRef$curr.getTracks().forEach(t => t.stop());\n    screenStreamRef.current = null;\n    const camTrack = (_localStreamRef$curre3 = localStreamRef.current) === null || _localStreamRef$curre3 === void 0 ? void 0 : _localStreamRef$curre3.getVideoTracks()[0];\n    const sender = (_pcRef$current3 = pcRef.current) === null || _pcRef$current3 === void 0 ? void 0 : _pcRef$current3.getSenders().find(s => {\n      var _s$track2;\n      return ((_s$track2 = s.track) === null || _s$track2 === void 0 ? void 0 : _s$track2.kind) === 'video';\n    });\n    if (sender && camTrack) sender.replaceTrack(camTrack);\n    if (localVideoRef.current && localStreamRef.current) localVideoRef.current.srcObject = localStreamRef.current;\n    setIsScreenSharing(false);\n  };\n  const handleEndCall = () => {\n    socket.emit('call:end', {\n      roomId,\n      to: signalingId\n    });\n    cleanup();\n    onLeave();\n  };\n\n  // ── RENDER ──────────────────────────────────────────────────────────────────\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wb-meeting-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-v-grid-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-video-tile\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: localVideoRef,\n          autoPlay: true,\n          muted: true,\n          playsInline: true,\n          className: \"wb-video-element\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this), !isCamEnabled && !isScreenSharing && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wb-video-placeholder\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wb-v-avatar\",\n            children: username[0].toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wb-video-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"wb-video-name\",\n            children: [username, \" (You)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this), !isMicEnabled && /*#__PURE__*/_jsxDEV(MicOff, {\n            size: 10,\n            className: \"text-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `wb-video-tile ${remoteStream ? 'active-host' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: remoteVideoRef,\n          autoPlay: true,\n          playsInline: true,\n          className: \"wb-video-element\",\n          style: {\n            display: remoteStream ? 'block' : 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), !remoteStream && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wb-video-placeholder\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wb-v-avatar\",\n            children: \"?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs mt-2 text-white/50\",\n            children: \"Waiting for peer\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wb-video-info\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"wb-video-name\",\n            children: \"Remote Participant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-video-controls-bar-fixed\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-video-controls-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `wb-v-btn ${!isMicEnabled ? 'muted' : ''}`,\n          onClick: toggleMic,\n          title: \"Mute\",\n          children: isMicEnabled ? /*#__PURE__*/_jsxDEV(Mic, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 41\n          }, this) : /*#__PURE__*/_jsxDEV(MicOff, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 61\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `wb-v-btn ${!isCamEnabled ? 'muted' : ''}`,\n          onClick: toggleCam,\n          title: \"Camera\",\n          children: isCamEnabled ? /*#__PURE__*/_jsxDEV(Video, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 41\n          }, this) : /*#__PURE__*/_jsxDEV(VideoOff, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `wb-v-btn ${isScreenSharing ? 'active' : ''}`,\n          onClick: toggleScreenShare,\n          title: \"Screen Share\",\n          children: isScreenSharing ? /*#__PURE__*/_jsxDEV(MonitorOff, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 44\n          }, this) : /*#__PURE__*/_jsxDEV(Monitor, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 71\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"wb-v-btn leave\",\n          onClick: handleEndCall,\n          title: \"End Call\",\n          children: /*#__PURE__*/_jsxDEV(PhoneOff, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-call-status-pill\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wb-status-dot\",\n        style: {\n          backgroundColor: connectionStatus.includes('connected') ? '#10b981' : '#f59e0b'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }, this), connectionStatus]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 9\n  }, this);\n};\n_s(WebRTCMeeting, \"VzxFYbMIS1vpa/+oRNusqdX12Bk=\");\n_c = WebRTCMeeting;\nexport default WebRTCMeeting;\nvar _c;\n$RefreshReg$(_c, \"WebRTCMeeting\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Mic","MicOff","Video","VideoOff","PhoneOff","Monitor","MonitorOff","toast","jsxDEV","_jsxDEV","WebRTCMeeting","socket","roomId","signalingId","isCaller","username","onLeave","_s","localStream","setLocalStream","remoteStream","setRemoteStream","isMicEnabled","setIsMicEnabled","isCamEnabled","setIsCamEnabled","isScreenSharing","setIsScreenSharing","connectionStatus","setConnectionStatus","pcReady","setPcReady","pcRef","localVideoRef","remoteVideoRef","candidateBuffer","screenStreamRef","isNegotiating","hasInitialized","localStreamRef","rtcConfig","iceServers","urls","current","cancelled","initMedia","console","log","stream","navigator","mediaDevices","getUserMedia","video","audio","getTracks","forEach","t","stop","srcObject","play","catch","pc","RTCPeerConnection","track","addTrack","ontrack","event","kind","rStream","streams","onicecandidate","candidate","emit","to","oniceconnectionstatechange","iceConnectionState","err","error","signalingState","negotiate","offer","createOffer","setLocalDescription","e","flushCandidates","length","_pcRef$current","remoteDescription","cand","shift","addIceCandidate","RTCIceCandidate","_","handleOffer","from","warn","setRemoteDescription","RTCSessionDescription","answer","createAnswer","handleAnswer","handleCandidate","_pc$remoteDescription","type","push","handleCallEnded","cleanup","on","off","close","toggleMic","_localStreamRef$curre","getAudioTracks","enabled","toggleCam","_localStreamRef$curre2","getVideoTracks","toggleScreenShare","_pcRef$current2","screenStream","getDisplayMedia","screenTrack","sender","getSenders","find","s","_s$track","replaceTrack","onended","stopScreenShare","_screenStreamRef$curr","_localStreamRef$curre3","_pcRef$current3","camTrack","_s$track2","handleEndCall","className","children","ref","autoPlay","muted","playsInline","fileName","_jsxFileName","lineNumber","columnNumber","toUpperCase","size","style","display","onClick","title","backgroundColor","includes","_c","$RefreshReg$"],"sources":["D:/CapstoneProject/whiteboard-app/frontend/src/components/video/WebRTCMeeting.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { Mic, MicOff, Video, VideoOff, PhoneOff, Monitor, MonitorOff } from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\n\r\n/**\r\n * WebRTCMeeting — Production-grade peer-to-peer video call component.\r\n *\r\n * Lifecycle is split into 3 clean phases:\r\n *   Phase 1 – Media:       getUserMedia + create RTCPeerConnection (runs ONCE).\r\n *   Phase 2 – Negotiate:   Create & send Offer (runs when PC is ready AND signalingId is known).\r\n *   Phase 3 – Signaling:   Socket listeners for offer/answer/candidate/ended.\r\n */\r\nconst WebRTCMeeting = ({ socket, roomId, signalingId, isCaller, username, onLeave }) => {\r\n    // ── UI State ──────────────────────────────────────────────────────────────\r\n    const [localStream, setLocalStream] = useState(null);\r\n    const [remoteStream, setRemoteStream] = useState(null);\r\n    const [isMicEnabled, setIsMicEnabled] = useState(true);\r\n    const [isCamEnabled, setIsCamEnabled] = useState(true);\r\n    const [isScreenSharing, setIsScreenSharing] = useState(false);\r\n    const [connectionStatus, setConnectionStatus] = useState('Initializing...');\r\n\r\n    /**\r\n     * pcReady — becomes true once initMedia() finishes creating the\r\n     * RTCPeerConnection.  The Negotiation effect depends on this so it\r\n     * waits for the async setup to finish before trying pcRef.current.\r\n     */\r\n    const [pcReady, setPcReady] = useState(false);\r\n\r\n    // ── Stable Refs (never cause re-renders) ──────────────────────────────────\r\n    const pcRef = useRef(null);\r\n    const localVideoRef = useRef(null);\r\n    const remoteVideoRef = useRef(null);\r\n    const candidateBuffer = useRef([]);\r\n    const screenStreamRef = useRef(null);\r\n    const isNegotiating = useRef(false);\r\n    const hasInitialized = useRef(false);\r\n    const localStreamRef = useRef(null); // mirrors localStream state for cleanup\r\n\r\n    const rtcConfig = {\r\n        iceServers: [\r\n            { urls: 'stun:stun.l.google.com:19302' },\r\n            { urls: 'stun:stun1.l.google.com:19302' },\r\n        ],\r\n    };\r\n\r\n    // ── PHASE 1: MEDIA + PC SETUP (runs exactly once) ─────────────────────────\r\n    useEffect(() => {\r\n        if (hasInitialized.current) return;\r\n        hasInitialized.current = true;\r\n\r\n        let cancelled = false;\r\n\r\n        const initMedia = async () => {\r\n            try {\r\n                console.log('[WebRTC] Requesting camera/mic…');\r\n                const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n\r\n                if (cancelled) {\r\n                    stream.getTracks().forEach(t => t.stop());\r\n                    return;\r\n                }\r\n\r\n                // Store stream\r\n                setLocalStream(stream);\r\n                localStreamRef.current = stream;\r\n                if (localVideoRef.current) {\r\n                    localVideoRef.current.srcObject = stream;\r\n                    localVideoRef.current.play().catch(() => { });\r\n                }\r\n\r\n                // Create PeerConnection\r\n                const pc = new RTCPeerConnection(rtcConfig);\r\n                pcRef.current = pc;\r\n\r\n                // Add local tracks\r\n                stream.getTracks().forEach(track => pc.addTrack(track, stream));\r\n\r\n                // Remote track → display\r\n                pc.ontrack = (event) => {\r\n                    console.log('[WebRTC] Remote track:', event.track.kind);\r\n                    const rStream = event.streams[0];\r\n                    setRemoteStream(rStream);\r\n                    if (remoteVideoRef.current) {\r\n                        remoteVideoRef.current.srcObject = rStream;\r\n                        remoteVideoRef.current.play().catch(() => { });\r\n                    }\r\n                };\r\n\r\n                // ICE candidates → send to peer\r\n                pc.onicecandidate = (event) => {\r\n                    if (event.candidate && signalingId) {\r\n                        socket.emit('call:candidate', { roomId, to: signalingId, candidate: event.candidate });\r\n                    }\r\n                };\r\n\r\n                // Connection state\r\n                pc.oniceconnectionstatechange = () => {\r\n                    console.log('[WebRTC] ICE state:', pc.iceConnectionState);\r\n                    setConnectionStatus(`Status: ${pc.iceConnectionState}`);\r\n                };\r\n\r\n                // Signal that PC is ready — this triggers Phase 2\r\n                setPcReady(true);\r\n                console.log('[WebRTC] PeerConnection ready.');\r\n            } catch (err) {\r\n                console.error('[WebRTC] Media init error:', err);\r\n                if (!cancelled) toast.error('Camera / Mic access failed — please allow permissions.');\r\n            }\r\n        };\r\n\r\n        initMedia();\r\n\r\n        return () => {\r\n            cancelled = true;\r\n        };\r\n    }, []); // ← empty dep array: runs once per mount\r\n\r\n    // ── PHASE 2: NEGOTIATION (only for caller; waits for pcReady + signalingId) ──\r\n    useEffect(() => {\r\n        if (!isCaller || !signalingId || !pcReady) return;\r\n\r\n        const pc = pcRef.current;\r\n        if (!pc || pc.signalingState !== 'stable') return;\r\n        if (isNegotiating.current) return;\r\n\r\n        const negotiate = async () => {\r\n            try {\r\n                isNegotiating.current = true;\r\n                console.log('[WebRTC] Creating offer for peer:', signalingId);\r\n                const offer = await pc.createOffer();\r\n                await pc.setLocalDescription(offer);\r\n                socket.emit('call:offer', { roomId, to: signalingId, offer });\r\n                console.log('[WebRTC] Offer sent.');\r\n            } catch (e) {\r\n                console.error('[WebRTC] Offer failed:', e);\r\n            } finally {\r\n                isNegotiating.current = false;\r\n            }\r\n        };\r\n\r\n        negotiate();\r\n    }, [isCaller, signalingId, pcReady, roomId, socket]);\r\n\r\n    // ── PHASE 3: SIGNALING LISTENERS ────────────────────────────────────────────\r\n    useEffect(() => {\r\n        if (!socket) return;\r\n\r\n        const flushCandidates = async () => {\r\n            while (candidateBuffer.current.length > 0 && pcRef.current?.remoteDescription) {\r\n                const cand = candidateBuffer.current.shift();\r\n                try { await pcRef.current.addIceCandidate(new RTCIceCandidate(cand)); } catch (_) { }\r\n            }\r\n        };\r\n\r\n        const handleOffer = async ({ from, offer }) => {\r\n            const pc = pcRef.current;\r\n            if (!pc || isNegotiating.current || pc.signalingState !== 'stable') {\r\n                console.warn('[WebRTC] Ignored offer — bad state:', pc?.signalingState);\r\n                return;\r\n            }\r\n            try {\r\n                isNegotiating.current = true;\r\n                await pc.setRemoteDescription(new RTCSessionDescription(offer));\r\n                const answer = await pc.createAnswer();\r\n                await pc.setLocalDescription(answer);\r\n                socket.emit('call:answer', { roomId, to: from, answer });\r\n                await flushCandidates();\r\n                console.log('[WebRTC] Answer sent.');\r\n            } catch (e) {\r\n                console.error('[WebRTC] Offer handling error:', e);\r\n            } finally {\r\n                isNegotiating.current = false;\r\n            }\r\n        };\r\n\r\n        const handleAnswer = async ({ from, answer }) => {\r\n            const pc = pcRef.current;\r\n            if (!pc || pc.signalingState !== 'have-local-offer') {\r\n                console.warn('[WebRTC] Ignored answer — bad state:', pc?.signalingState);\r\n                return;\r\n            }\r\n            try {\r\n                isNegotiating.current = true;\r\n                await pc.setRemoteDescription(new RTCSessionDescription(answer));\r\n                await flushCandidates();\r\n                console.log('[WebRTC] Answer applied.');\r\n            } catch (e) {\r\n                console.error('[WebRTC] Answer handling error:', e);\r\n            } finally {\r\n                isNegotiating.current = false;\r\n            }\r\n        };\r\n\r\n        const handleCandidate = async ({ from, candidate }) => {\r\n            const pc = pcRef.current;\r\n            if (!pc) return;\r\n            if (pc.remoteDescription?.type) {\r\n                try { await pc.addIceCandidate(new RTCIceCandidate(candidate)); } catch (_) { }\r\n            } else {\r\n                candidateBuffer.current.push(candidate);\r\n            }\r\n        };\r\n\r\n        const handleCallEnded = () => {\r\n            console.log('[WebRTC] Remote peer ended call.');\r\n            cleanup();\r\n            onLeave();\r\n        };\r\n\r\n        socket.on('call:offer', handleOffer);\r\n        socket.on('call:answer', handleAnswer);\r\n        socket.on('call:candidate', handleCandidate);\r\n        socket.on('call:ended', handleCallEnded);\r\n\r\n        return () => {\r\n            socket.off('call:offer', handleOffer);\r\n            socket.off('call:answer', handleAnswer);\r\n            socket.off('call:candidate', handleCandidate);\r\n            socket.off('call:ended', handleCallEnded);\r\n        };\r\n    }, [socket, roomId, onLeave]);\r\n\r\n    // ── UNMOUNT CLEANUP ─────────────────────────────────────────────────────────\r\n    useEffect(() => () => cleanup(), []);\r\n\r\n    // ── Helpers ─────────────────────────────────────────────────────────────────\r\n    const cleanup = () => {\r\n        if (pcRef.current) { pcRef.current.close(); pcRef.current = null; }\r\n        if (localStreamRef.current) {\r\n            localStreamRef.current.getTracks().forEach(t => { t.stop(); console.log('[WebRTC] Stopped track:', t.kind); });\r\n            localStreamRef.current = null;\r\n            setLocalStream(null);\r\n        }\r\n        if (screenStreamRef.current) {\r\n            screenStreamRef.current.getTracks().forEach(t => t.stop());\r\n            screenStreamRef.current = null;\r\n        }\r\n        if (localVideoRef.current) localVideoRef.current.srcObject = null;\r\n        if (remoteVideoRef.current) remoteVideoRef.current.srcObject = null;\r\n        setRemoteStream(null);\r\n        setConnectionStatus('Ended');\r\n    };\r\n\r\n    const toggleMic = () => {\r\n        const track = localStreamRef.current?.getAudioTracks()[0];\r\n        if (track) { track.enabled = !track.enabled; setIsMicEnabled(track.enabled); }\r\n    };\r\n\r\n    const toggleCam = () => {\r\n        const track = localStreamRef.current?.getVideoTracks()[0];\r\n        if (track) { track.enabled = !track.enabled; setIsCamEnabled(track.enabled); }\r\n    };\r\n\r\n    const toggleScreenShare = async () => {\r\n        if (!isScreenSharing) {\r\n            try {\r\n                const screenStream = await navigator.mediaDevices.getDisplayMedia({ video: true });\r\n                screenStreamRef.current = screenStream;\r\n                const screenTrack = screenStream.getVideoTracks()[0];\r\n                const sender = pcRef.current?.getSenders().find(s => s.track?.kind === 'video');\r\n                if (sender) sender.replaceTrack(screenTrack);\r\n                if (localVideoRef.current) { localVideoRef.current.srcObject = screenStream; }\r\n                screenTrack.onended = () => stopScreenShare();\r\n                setIsScreenSharing(true);\r\n            } catch (e) {\r\n                console.error('[WebRTC] Screen share error:', e);\r\n            }\r\n        } else {\r\n            stopScreenShare();\r\n        }\r\n    };\r\n\r\n    const stopScreenShare = () => {\r\n        screenStreamRef.current?.getTracks().forEach(t => t.stop());\r\n        screenStreamRef.current = null;\r\n        const camTrack = localStreamRef.current?.getVideoTracks()[0];\r\n        const sender = pcRef.current?.getSenders().find(s => s.track?.kind === 'video');\r\n        if (sender && camTrack) sender.replaceTrack(camTrack);\r\n        if (localVideoRef.current && localStreamRef.current) localVideoRef.current.srcObject = localStreamRef.current;\r\n        setIsScreenSharing(false);\r\n    };\r\n\r\n    const handleEndCall = () => {\r\n        socket.emit('call:end', { roomId, to: signalingId });\r\n        cleanup();\r\n        onLeave();\r\n    };\r\n\r\n    // ── RENDER ──────────────────────────────────────────────────────────────────\r\n    return (\r\n        <div className=\"wb-meeting-container\">\r\n            <div className=\"wb-v-grid-main\">\r\n                {/* Local video */}\r\n                <div className=\"wb-video-tile\">\r\n                    <video ref={localVideoRef} autoPlay muted playsInline className=\"wb-video-element\" />\r\n                    {!isCamEnabled && !isScreenSharing && (\r\n                        <div className=\"wb-video-placeholder\">\r\n                            <div className=\"wb-v-avatar\">{username[0].toUpperCase()}</div>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"wb-video-info\">\r\n                        <span className=\"wb-video-name\">{username} (You)</span>\r\n                        {!isMicEnabled && <MicOff size={10} className=\"text-red-500\" />}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Remote video */}\r\n                <div className={`wb-video-tile ${remoteStream ? 'active-host' : ''}`}>\r\n                    <video ref={remoteVideoRef} autoPlay playsInline className=\"wb-video-element\"\r\n                        style={{ display: remoteStream ? 'block' : 'none' }} />\r\n                    {!remoteStream && (\r\n                        <div className=\"wb-video-placeholder\">\r\n                            <div className=\"wb-v-avatar\">?</div>\r\n                            <p className=\"text-xs mt-2 text-white/50\">Waiting for peer…</p>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"wb-video-info\"><span className=\"wb-video-name\">Remote Participant</span></div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            <div className=\"wb-video-controls-bar-fixed\">\r\n                <div className=\"wb-video-controls-bar\">\r\n                    <button className={`wb-v-btn ${!isMicEnabled ? 'muted' : ''}`} onClick={toggleMic} title=\"Mute\">\r\n                        {isMicEnabled ? <Mic size={18} /> : <MicOff size={18} />}\r\n                    </button>\r\n                    <button className={`wb-v-btn ${!isCamEnabled ? 'muted' : ''}`} onClick={toggleCam} title=\"Camera\">\r\n                        {isCamEnabled ? <Video size={18} /> : <VideoOff size={18} />}\r\n                    </button>\r\n                    <button className={`wb-v-btn ${isScreenSharing ? 'active' : ''}`} onClick={toggleScreenShare} title=\"Screen Share\">\r\n                        {isScreenSharing ? <MonitorOff size={18} /> : <Monitor size={18} />}\r\n                    </button>\r\n                    <button className=\"wb-v-btn leave\" onClick={handleEndCall} title=\"End Call\">\r\n                        <PhoneOff size={18} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Status pill */}\r\n            <div className=\"wb-call-status-pill\">\r\n                <div className=\"wb-status-dot\"\r\n                    style={{ backgroundColor: connectionStatus.includes('connected') ? '#10b981' : '#f59e0b' }} />\r\n                {connectionStatus}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WebRTCMeeting;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}