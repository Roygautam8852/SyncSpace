{"ast":null,"code":"var _jsxFileName = \"D:\\\\CapstoneProject\\\\whiteboard-app\\\\frontend\\\\src\\\\components\\\\Toolbar.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { MousePointer2, Hand, Pencil, Highlighter, Eraser, Type, Upload, Square, Circle, Minus, ArrowUpRight, Undo2, Redo2, Trash2, RotateCcw, ChevronRight, Settings, Brush, Sparkles, ArrowLeftRight, Triangle, Database, FileText, MessageSquare, Cloud, Diamond, StickyNote } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Toolbar = ({\n  activeTool,\n  setTool,\n  isHost,\n  onClear,\n  onUndo,\n  onRedo\n}) => {\n  _s();\n  const [openFlyout, setOpenFlyout] = useState(null); // 'brush' | 'shape' | 'util'\n  const [flyoutPos, setFlyoutPos] = useState({\n    top: 0\n  });\n  const [tooltip, setTooltip] = useState({\n    text: '',\n    visible: false,\n    top: 0\n  });\n\n  // ─── Tool Definitions ───────────────────────────────────────────────────────\n  const brushVariants = [{\n    id: 'highlighter',\n    icon: Highlighter,\n    label: 'Highlighter'\n  }, {\n    id: 'soft-brush',\n    icon: Brush,\n    label: 'Soft Brush'\n  }, {\n    id: 'marker',\n    icon: Brush,\n    label: 'Marker Brush'\n  }, {\n    id: 'smooth-pencil',\n    icon: Sparkles,\n    label: 'Smooth Stroke'\n  }];\n  const shapes = [{\n    id: 'line',\n    icon: Minus,\n    label: 'Line'\n  }, {\n    id: 'arrow',\n    icon: ArrowUpRight,\n    label: 'Arrow'\n  }, {\n    id: 'double-arrow',\n    icon: ArrowLeftRight,\n    label: 'Double Arrow'\n  }, {\n    id: 'rect',\n    icon: Square,\n    label: 'Rectangle'\n  }, {\n    id: 'rounded-rect',\n    icon: Square,\n    label: 'Rounded Rect'\n  }, {\n    id: 'circle',\n    icon: Circle,\n    label: 'Circle'\n  }, {\n    id: 'ellipse',\n    icon: Circle,\n    label: 'Ellipse'\n  }, {\n    id: 'triangle',\n    icon: Triangle,\n    label: 'Triangle'\n  }, {\n    id: 'diamond',\n    icon: Diamond,\n    label: 'Diamond'\n  }, {\n    id: 'sticky',\n    icon: StickyNote,\n    label: 'Sticky Note'\n  }, {\n    id: 'speech-bubble',\n    icon: MessageSquare,\n    label: 'Speech Bubble'\n  }, {\n    id: 'parallelogram',\n    icon: Square,\n    label: 'Parallelogram'\n  }, {\n    id: 'cylinder',\n    icon: Database,\n    label: 'Cylinder (DB)'\n  }, {\n    id: 'document',\n    icon: FileText,\n    label: 'Document'\n  }, {\n    id: 'cloud',\n    icon: Cloud,\n    label: 'Cloud'\n  }];\n  const shapeIds = shapes.map(s => s.id);\n  const brushIds = brushVariants.map(b => b.id);\n\n  // find active shape/brush for icon display in flyout trigger\n  const activeShape = shapes.find(s => s.id === activeTool);\n  const activeBrush = brushVariants.find(b => b.id === activeTool);\n\n  // ─── Helpers ────────────────────────────────────────────────────────────────\n  const tip = (text, e) => {\n    const r = e.currentTarget.getBoundingClientRect();\n    setTooltip({\n      text,\n      visible: true,\n      top: r.top + r.height / 2 - 12\n    });\n  };\n  const hideTip = () => setTooltip(t => ({\n    ...t,\n    visible: false\n  }));\n  const toggleFlyout = (name, e) => {\n    const r = e.currentTarget.getBoundingClientRect();\n    setFlyoutPos({\n      top: r.top\n    });\n    setOpenFlyout(prev => prev === name ? null : name);\n  };\n  const closeAll = () => setOpenFlyout(null);\n  const selectTool = id => {\n    setTool(id);\n    closeAll();\n  };\n\n  // ─── Sub-components ──────────────────────────────────────────────────────────\n  const ToolBtn = ({\n    id,\n    icon: Icon,\n    label,\n    small = false\n  }) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => selectTool(id),\n    onMouseEnter: e => tip(label, e),\n    onMouseLeave: hideTip,\n    className: `tool-button ${activeTool === id ? 'tool-button-active' : ''}`,\n    title: label,\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      size: small ? 15 : 20,\n      strokeWidth: 2.5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n  const Divider = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-8 h-px bg-slate-100 my-1\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 27\n  }, this);\n  const FlyoutList = ({\n    items\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-1 w-full px-1\",\n    children: items.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => selectTool(item.id),\n      onMouseEnter: e => tip(item.label, e),\n      onMouseLeave: hideTip,\n      className: `tool-button w-full justify-start px-3 gap-3 ${activeTool === item.id ? 'tool-button-active' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(item.icon, {\n        size: 17,\n        strokeWidth: 2.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-[11px] font-semibold leading-none\",\n        children: item.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n  const FlyoutPanel = ({\n    label,\n    children,\n    maxH = 360\n  }) => /*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"category-flyout\",\n    style: {\n      top: `${flyoutPos.top}px`,\n      zIndex: 9999,\n      maxHeight: maxH,\n      overflowY: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-[9px] font-bold text-slate-400 uppercase tracking-widest px-2 mb-2 pb-1 border-b border-slate-50 w-full text-center\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this), document.body);\n\n  // ─── Render ──────────────────────────────────────────────────────────────────\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-1 items-center relative h-full pb-2\",\n    children: [tooltip.visible && /*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wb-tooltip\",\n      style: {\n        top: `${tooltip.top}px`\n      },\n      children: tooltip.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }, this), document.body), /*#__PURE__*/_jsxDEV(ToolBtn, {\n      id: \"select\",\n      icon: MousePointer2,\n      label: \"Select (V)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToolBtn, {\n      id: \"pan\",\n      icon: Hand,\n      label: \"Pan / Move (H)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToolBtn, {\n      id: \"pencil\",\n      icon: Pencil,\n      label: \"Pencil (P)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => toggleFlyout('brush', e),\n        onMouseEnter: e => tip('Brushes', e),\n        onMouseLeave: hideTip,\n        className: `tool-button relative ${openFlyout === 'brush' || brushIds.includes(activeTool) ? 'tool-button-active' : ''}`,\n        children: [activeBrush ? /*#__PURE__*/_jsxDEV(activeBrush.icon, {\n          size: 20,\n          strokeWidth: 2.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(Brush, {\n          size: 20,\n          strokeWidth: 2.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 10,\n          className: `absolute right-0.5 text-slate-300 transition-transform duration-200 ${openFlyout === 'brush' ? '-rotate-90' : 'rotate-90'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), openFlyout === 'brush' && /*#__PURE__*/_jsxDEV(FlyoutPanel, {\n        label: \"Brush Variants\",\n        children: /*#__PURE__*/_jsxDEV(FlyoutList, {\n          items: brushVariants\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => selectTool('eraser'),\n      onMouseEnter: e => tip('Eraser — deletes full stroke', e),\n      onMouseLeave: hideTip,\n      className: `tool-button ${activeTool === 'eraser' ? 'tool-button-active' : ''}`,\n      children: /*#__PURE__*/_jsxDEV(Eraser, {\n        size: 20,\n        strokeWidth: 2.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => selectTool('precision-eraser'),\n      onMouseEnter: e => tip('Precision Eraser — pixel erase', e),\n      onMouseLeave: hideTip,\n      className: `tool-button relative ${activeTool === 'precision-eraser' ? 'tool-button-active' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(Eraser, {\n        size: 15,\n        strokeWidth: 2.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"absolute bottom-1 right-1 w-1.5 h-1.5 rounded-full bg-current\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => toggleFlyout('shape', e),\n        onMouseEnter: e => tip('Shapes & Diagrams', e),\n        onMouseLeave: hideTip,\n        className: `tool-button relative ${openFlyout === 'shape' || shapeIds.includes(activeTool) ? 'tool-button-active' : ''}`,\n        children: [activeShape ? /*#__PURE__*/_jsxDEV(activeShape.icon, {\n          size: 20,\n          strokeWidth: 2.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(Square, {\n          size: 20,\n          strokeWidth: 2.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 10,\n          className: `absolute right-0.5 text-slate-300 transition-transform duration-200 ${openFlyout === 'shape' ? '-rotate-90' : 'rotate-90'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), openFlyout === 'shape' && /*#__PURE__*/_jsxDEV(FlyoutPanel, {\n        label: \"Shapes & Diagrams\",\n        maxH: 420,\n        children: /*#__PURE__*/_jsxDEV(FlyoutList, {\n          items: shapes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToolBtn, {\n      id: \"text\",\n      icon: Type,\n      label: \"Text Tool (T) \\u2014 click canvas to type\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToolBtn, {\n      id: \"upload\",\n      icon: Upload,\n      label: \"Image Upload \\u2014 click canvas to place\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onUndo,\n      onMouseEnter: e => tip('Undo (Ctrl+Z)', e),\n      onMouseLeave: hideTip,\n      className: \"tool-button\",\n      children: /*#__PURE__*/_jsxDEV(Undo2, {\n        size: 20,\n        strokeWidth: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onRedo,\n      onMouseEnter: e => tip('Redo (Ctrl+Y)', e),\n      onMouseLeave: hideTip,\n      className: \"tool-button\",\n      children: /*#__PURE__*/_jsxDEV(Redo2, {\n        size: 20,\n        strokeWidth: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => toggleFlyout('util', e),\n        onMouseEnter: e => tip('Utilities', e),\n        onMouseLeave: hideTip,\n        className: `tool-button relative ${openFlyout === 'util' ? 'tool-button-active' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(Settings, {\n          size: 20,\n          strokeWidth: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 10,\n          className: `absolute right-0.5 text-slate-300 transition-transform duration-200 ${openFlyout === 'util' ? '-rotate-90' : 'rotate-90'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this), openFlyout === 'util' && /*#__PURE__*/_jsxDEV(FlyoutPanel, {\n        label: \"Utilities\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-1 w-full px-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              window.dispatchEvent(new CustomEvent('wb-reset-view'));\n              closeAll();\n            },\n            onMouseEnter: e => tip('Reset View', e),\n            onMouseLeave: hideTip,\n            className: \"tool-button w-full justify-start px-3 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n              size: 17\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-[11px] font-semibold\",\n              children: \"Reset View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 29\n          }, this), isHost && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onClear();\n              closeAll();\n            },\n            onMouseEnter: e => tip('Clear Board (Host Only)', e),\n            onMouseLeave: hideTip,\n            className: \"tool-button w-full justify-start px-3 gap-3 !text-red-500 hover:!bg-red-50\",\n            children: [/*#__PURE__*/_jsxDEV(Trash2, {\n              size: 17\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-[11px] font-semibold\",\n              children: \"Clear Board\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n};\n_s(Toolbar, \"kKfdDthkAnbCn/iLJdrhmieOkRE=\");\n_c = Toolbar;\nexport default Toolbar;\nvar _c;\n$RefreshReg$(_c, \"Toolbar\");","map":{"version":3,"names":["React","useState","ReactDOM","MousePointer2","Hand","Pencil","Highlighter","Eraser","Type","Upload","Square","Circle","Minus","ArrowUpRight","Undo2","Redo2","Trash2","RotateCcw","ChevronRight","Settings","Brush","Sparkles","ArrowLeftRight","Triangle","Database","FileText","MessageSquare","Cloud","Diamond","StickyNote","jsxDEV","_jsxDEV","Toolbar","activeTool","setTool","isHost","onClear","onUndo","onRedo","_s","openFlyout","setOpenFlyout","flyoutPos","setFlyoutPos","top","tooltip","setTooltip","text","visible","brushVariants","id","icon","label","shapes","shapeIds","map","s","brushIds","b","activeShape","find","activeBrush","tip","e","r","currentTarget","getBoundingClientRect","height","hideTip","t","toggleFlyout","name","prev","closeAll","selectTool","ToolBtn","Icon","small","onClick","onMouseEnter","onMouseLeave","className","title","children","size","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","Divider","FlyoutList","items","item","FlyoutPanel","maxH","createPortal","style","zIndex","maxHeight","overflowY","document","body","includes","window","dispatchEvent","CustomEvent","_c","$RefreshReg$"],"sources":["D:/CapstoneProject/whiteboard-app/frontend/src/components/Toolbar.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {\r\n    MousePointer2, Hand, Pencil, Highlighter, Eraser, Type, Upload,\r\n    Square, Circle, Minus, ArrowUpRight, Undo2, Redo2, Trash2,\r\n    RotateCcw, ChevronRight, Settings, Brush, Sparkles,\r\n    ArrowLeftRight, Triangle, Database, FileText, MessageSquare,\r\n    Cloud, Diamond, StickyNote\r\n} from 'lucide-react';\r\n\r\nconst Toolbar = ({ activeTool, setTool, isHost, onClear, onUndo, onRedo }) => {\r\n    const [openFlyout, setOpenFlyout] = useState(null); // 'brush' | 'shape' | 'util'\r\n    const [flyoutPos, setFlyoutPos] = useState({ top: 0 });\r\n    const [tooltip, setTooltip] = useState({ text: '', visible: false, top: 0 });\r\n\r\n    // ─── Tool Definitions ───────────────────────────────────────────────────────\r\n    const brushVariants = [\r\n        { id: 'highlighter', icon: Highlighter, label: 'Highlighter' },\r\n        { id: 'soft-brush', icon: Brush, label: 'Soft Brush' },\r\n        { id: 'marker', icon: Brush, label: 'Marker Brush' },\r\n        { id: 'smooth-pencil', icon: Sparkles, label: 'Smooth Stroke' },\r\n    ];\r\n\r\n    const shapes = [\r\n        { id: 'line', icon: Minus, label: 'Line' },\r\n        { id: 'arrow', icon: ArrowUpRight, label: 'Arrow' },\r\n        { id: 'double-arrow', icon: ArrowLeftRight, label: 'Double Arrow' },\r\n        { id: 'rect', icon: Square, label: 'Rectangle' },\r\n        { id: 'rounded-rect', icon: Square, label: 'Rounded Rect' },\r\n        { id: 'circle', icon: Circle, label: 'Circle' },\r\n        { id: 'ellipse', icon: Circle, label: 'Ellipse' },\r\n        { id: 'triangle', icon: Triangle, label: 'Triangle' },\r\n        { id: 'diamond', icon: Diamond, label: 'Diamond' },\r\n        { id: 'sticky', icon: StickyNote, label: 'Sticky Note' },\r\n        { id: 'speech-bubble', icon: MessageSquare, label: 'Speech Bubble' },\r\n        { id: 'parallelogram', icon: Square, label: 'Parallelogram' },\r\n        { id: 'cylinder', icon: Database, label: 'Cylinder (DB)' },\r\n        { id: 'document', icon: FileText, label: 'Document' },\r\n        { id: 'cloud', icon: Cloud, label: 'Cloud' },\r\n    ];\r\n\r\n    const shapeIds = shapes.map(s => s.id);\r\n    const brushIds = brushVariants.map(b => b.id);\r\n\r\n    // find active shape/brush for icon display in flyout trigger\r\n    const activeShape = shapes.find(s => s.id === activeTool);\r\n    const activeBrush = brushVariants.find(b => b.id === activeTool);\r\n\r\n    // ─── Helpers ────────────────────────────────────────────────────────────────\r\n    const tip = (text, e) => {\r\n        const r = e.currentTarget.getBoundingClientRect();\r\n        setTooltip({ text, visible: true, top: r.top + r.height / 2 - 12 });\r\n    };\r\n    const hideTip = () => setTooltip(t => ({ ...t, visible: false }));\r\n\r\n    const toggleFlyout = (name, e) => {\r\n        const r = e.currentTarget.getBoundingClientRect();\r\n        setFlyoutPos({ top: r.top });\r\n        setOpenFlyout(prev => (prev === name ? null : name));\r\n    };\r\n    const closeAll = () => setOpenFlyout(null);\r\n\r\n    const selectTool = (id) => { setTool(id); closeAll(); };\r\n\r\n    // ─── Sub-components ──────────────────────────────────────────────────────────\r\n    const ToolBtn = ({ id, icon: Icon, label, small = false }) => (\r\n        <button\r\n            onClick={() => selectTool(id)}\r\n            onMouseEnter={(e) => tip(label, e)}\r\n            onMouseLeave={hideTip}\r\n            className={`tool-button ${activeTool === id ? 'tool-button-active' : ''}`}\r\n            title={label}\r\n        >\r\n            <Icon size={small ? 15 : 20} strokeWidth={2.5} />\r\n        </button>\r\n    );\r\n\r\n    const Divider = () => <div className=\"w-8 h-px bg-slate-100 my-1\" />;\r\n\r\n    const FlyoutList = ({ items }) => (\r\n        <div className=\"flex flex-col gap-1 w-full px-1\">\r\n            {items.map(item => (\r\n                <button\r\n                    key={item.id}\r\n                    onClick={() => selectTool(item.id)}\r\n                    onMouseEnter={(e) => tip(item.label, e)}\r\n                    onMouseLeave={hideTip}\r\n                    className={`tool-button w-full justify-start px-3 gap-3 ${activeTool === item.id ? 'tool-button-active' : ''}`}\r\n                >\r\n                    <item.icon size={17} strokeWidth={2.5} />\r\n                    <span className=\"text-[11px] font-semibold leading-none\">{item.label}</span>\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    const FlyoutPanel = ({ label, children, maxH = 360 }) => ReactDOM.createPortal(\r\n        <div\r\n            className=\"category-flyout\"\r\n            style={{ top: `${flyoutPos.top}px`, zIndex: 9999, maxHeight: maxH, overflowY: 'auto' }}\r\n        >\r\n            <div className=\"text-[9px] font-bold text-slate-400 uppercase tracking-widest px-2 mb-2 pb-1 border-b border-slate-50 w-full text-center\">\r\n                {label}\r\n            </div>\r\n            {children}\r\n        </div>,\r\n        document.body\r\n    );\r\n\r\n    // ─── Render ──────────────────────────────────────────────────────────────────\r\n    return (\r\n        <div className=\"flex flex-col gap-1 items-center relative h-full pb-2\">\r\n\r\n            {/* Global Tooltip */}\r\n            {tooltip.visible && ReactDOM.createPortal(\r\n                <div className=\"wb-tooltip\" style={{ top: `${tooltip.top}px` }}>{tooltip.text}</div>,\r\n                document.body\r\n            )}\r\n\r\n            {/* ── Selection ── */}\r\n            <ToolBtn id=\"select\" icon={MousePointer2} label=\"Select (V)\" />\r\n            <ToolBtn id=\"pan\" icon={Hand} label=\"Pan / Move (H)\" />\r\n\r\n            <Divider />\r\n\r\n            {/* ── Pencil (direct) ── */}\r\n            <ToolBtn id=\"pencil\" icon={Pencil} label=\"Pencil (P)\" />\r\n\r\n            {/* ── Brush Variants (flyout) ── */}\r\n            <div className=\"relative\">\r\n                <button\r\n                    onClick={(e) => toggleFlyout('brush', e)}\r\n                    onMouseEnter={(e) => tip('Brushes', e)}\r\n                    onMouseLeave={hideTip}\r\n                    className={`tool-button relative ${openFlyout === 'brush' || brushIds.includes(activeTool) ? 'tool-button-active' : ''}`}\r\n                >\r\n                    {activeBrush\r\n                        ? <activeBrush.icon size={20} strokeWidth={2.5} />\r\n                        : <Brush size={20} strokeWidth={2.5} />\r\n                    }\r\n                    <ChevronRight\r\n                        size={10}\r\n                        className={`absolute right-0.5 text-slate-300 transition-transform duration-200 ${openFlyout === 'brush' ? '-rotate-90' : 'rotate-90'}`}\r\n                    />\r\n                </button>\r\n                {openFlyout === 'brush' && (\r\n                    <FlyoutPanel label=\"Brush Variants\">\r\n                        <FlyoutList items={brushVariants} />\r\n                    </FlyoutPanel>\r\n                )}\r\n            </div>\r\n\r\n            {/* ── Erasers ── */}\r\n            <button\r\n                onClick={() => selectTool('eraser')}\r\n                onMouseEnter={(e) => tip('Eraser — deletes full stroke', e)}\r\n                onMouseLeave={hideTip}\r\n                className={`tool-button ${activeTool === 'eraser' ? 'tool-button-active' : ''}`}\r\n            >\r\n                <Eraser size={20} strokeWidth={2.5} />\r\n            </button>\r\n            <button\r\n                onClick={() => selectTool('precision-eraser')}\r\n                onMouseEnter={(e) => tip('Precision Eraser — pixel erase', e)}\r\n                onMouseLeave={hideTip}\r\n                className={`tool-button relative ${activeTool === 'precision-eraser' ? 'tool-button-active' : ''}`}\r\n            >\r\n                <Eraser size={15} strokeWidth={2.5} />\r\n                {/* small dot to distinguish from regular eraser */}\r\n                <span className=\"absolute bottom-1 right-1 w-1.5 h-1.5 rounded-full bg-current\" />\r\n            </button>\r\n\r\n            <Divider />\r\n\r\n            {/* ── Shapes (flyout, shows active shape icon) ── */}\r\n            <div className=\"relative\">\r\n                <button\r\n                    onClick={(e) => toggleFlyout('shape', e)}\r\n                    onMouseEnter={(e) => tip('Shapes & Diagrams', e)}\r\n                    onMouseLeave={hideTip}\r\n                    className={`tool-button relative ${openFlyout === 'shape' || shapeIds.includes(activeTool) ? 'tool-button-active' : ''}`}\r\n                >\r\n                    {activeShape\r\n                        ? <activeShape.icon size={20} strokeWidth={2.5} />\r\n                        : <Square size={20} strokeWidth={2.5} />\r\n                    }\r\n                    <ChevronRight\r\n                        size={10}\r\n                        className={`absolute right-0.5 text-slate-300 transition-transform duration-200 ${openFlyout === 'shape' ? '-rotate-90' : 'rotate-90'}`}\r\n                    />\r\n                </button>\r\n                {openFlyout === 'shape' && (\r\n                    <FlyoutPanel label=\"Shapes & Diagrams\" maxH={420}>\r\n                        <FlyoutList items={shapes} />\r\n                    </FlyoutPanel>\r\n                )}\r\n            </div>\r\n\r\n            <Divider />\r\n\r\n            {/* ── Content Tools (direct) ── */}\r\n            <ToolBtn id=\"text\" icon={Type} label=\"Text Tool (T) — click canvas to type\" />\r\n            <ToolBtn id=\"upload\" icon={Upload} label=\"Image Upload — click canvas to place\" />\r\n\r\n            <Divider />\r\n\r\n            {/* ── History ── */}\r\n            <button\r\n                onClick={onUndo}\r\n                onMouseEnter={(e) => tip('Undo (Ctrl+Z)', e)}\r\n                onMouseLeave={hideTip}\r\n                className=\"tool-button\"\r\n            >\r\n                <Undo2 size={20} strokeWidth={2} />\r\n            </button>\r\n            <button\r\n                onClick={onRedo}\r\n                onMouseEnter={(e) => tip('Redo (Ctrl+Y)', e)}\r\n                onMouseLeave={hideTip}\r\n                className=\"tool-button\"\r\n            >\r\n                <Redo2 size={20} strokeWidth={2} />\r\n            </button>\r\n\r\n            <Divider />\r\n\r\n            {/* ── Utilities (flyout) ── */}\r\n            <div className=\"relative\">\r\n                <button\r\n                    onClick={(e) => toggleFlyout('util', e)}\r\n                    onMouseEnter={(e) => tip('Utilities', e)}\r\n                    onMouseLeave={hideTip}\r\n                    className={`tool-button relative ${openFlyout === 'util' ? 'tool-button-active' : ''}`}\r\n                >\r\n                    <Settings size={20} strokeWidth={2} />\r\n                    <ChevronRight\r\n                        size={10}\r\n                        className={`absolute right-0.5 text-slate-300 transition-transform duration-200 ${openFlyout === 'util' ? '-rotate-90' : 'rotate-90'}`}\r\n                    />\r\n                </button>\r\n                {openFlyout === 'util' && (\r\n                    <FlyoutPanel label=\"Utilities\">\r\n                        <div className=\"flex flex-col gap-1 w-full px-1\">\r\n                            <button\r\n                                onClick={() => { window.dispatchEvent(new CustomEvent('wb-reset-view')); closeAll(); }}\r\n                                onMouseEnter={(e) => tip('Reset View', e)}\r\n                                onMouseLeave={hideTip}\r\n                                className=\"tool-button w-full justify-start px-3 gap-3\"\r\n                            >\r\n                                <RotateCcw size={17} />\r\n                                <span className=\"text-[11px] font-semibold\">Reset View</span>\r\n                            </button>\r\n                            {isHost && (\r\n                                <button\r\n                                    onClick={() => { onClear(); closeAll(); }}\r\n                                    onMouseEnter={(e) => tip('Clear Board (Host Only)', e)}\r\n                                    onMouseLeave={hideTip}\r\n                                    className=\"tool-button w-full justify-start px-3 gap-3 !text-red-500 hover:!bg-red-50\"\r\n                                >\r\n                                    <Trash2 size={17} />\r\n                                    <span className=\"text-[11px] font-semibold\">Clear Board</span>\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </FlyoutPanel>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Toolbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}